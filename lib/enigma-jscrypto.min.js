(function(){var c={},h={};var a={get:function(k){return c[k]},set:function(l,k){c[l]=k},exp:function(m,k){var o=m.split(".");var n=h;for(var l in o){if("undefined"==typeof n[o[l]]){if(l==o.length-1){n[o[l]]=k;break}n[o[l]]={}}n=n[o[l]]}}};(function(q){var l="0123456789abcdefghjkmnpqrtuvwxyz";var o={o:0,i:1,l:1,s:5};var m=function(){var v={};for(var u=0;u<l.length;u++){v[l[u]]=u}for(var t in o){if(!o.hasOwnProperty(t)){continue}v[t]=v[""+o[t]]}m=function(){return v};return v};function n(){var t=0;var u=0;this.output="";this.readByte=function(v){if(t<0){u|=(v>>(-t))}else{u=(v<<t)&248}if(t>3){t-=8;return 1}if(t<4){this.output+=l[u>>3];t+=5}return 0};this.finish=function(){var v=this.output+(t<0?l[u>>3]:"");this.output="";return v}}n.prototype.update=function(v,t){for(var w=0;w<v.length;){w+=this.readByte(v[w])}var u=this.output;this.output="";if(t){u+=this.finish()}return u};function s(){var t=0;var u=0;this.output=[];this.readChar=function(v){var w=m()[v];if(typeof w=="undefined"){throw Error('Could not find character "'+v+'" in lookup table.')}w<<=3;u|=w>>>t;t+=5;if(t>=8){this.output.push(u);t-=8;if(t>0){u=(w<<(5-t))&255}else{u=0}}};this.finish=function(){if(t<0){this.output.push(l[bits>>3])}return this.output}}s.prototype.update=function(v,t){for(var w=0;w<v.length;w++){this.readChar(v[w])}var u=this.output;this.output="";if(t){u.concat(this.finish())}return u};function p(u){var v=new n();var t=v.update(u,true);return t}function k(u){var v=new s();u=u.toLowerCase();var t=v.update(u,true);return t}var r={encode:p,decode:k};q.set("util.encoding.base32",r)})(a);(function(m){function p(t){var s,r,u=0,q;for(s=0;s<t.length;s++){u+=t[s].byteLength}var v=new Uint8Array(u),w=0;for(s=0;s<t.length;s++){q=new Uint8Array(t[s]);for(r=0;r<q.length;r++){v[w]=q[r];w+=1}}return v.buffer}function k(r,q){if(r.byteLength!=q.byteLength){throw Error("xor-unequal-length-buffer")}var u=new Uint8Array(r.byteLength),t=new Uint8Array(r),v=new Uint8Array(q);for(var s=0;s<u.length;s++){u[s]=t[s]^v[s]}return u.buffer}function n(s,r){try{var q=new Uint8Array(s),v=new Uint8Array(r)}catch(u){return false}if(q.length!=v.length){return false}for(var t=0;t<q.length;t++){if(q[t]!=v[t]){return false}}return true}function l(s){var v=new Uint8Array(s);var q=v.length-1,w=Math.floor(q/2);var y=q,x;for(var u=0;u<=w;u++){x=v[u];v[u]=v[y];v[y]=x;y-=1}return v.buffer}var o={concat:p,xor:k,equal:n,reverse:l};m.set("util.buffer",o);m.exp("util.buffer",o)})(a);(function(m){function n(v){var s=4-v.length%4;if(4==s){s=0}for(var t=0;t<s;t++){v.push(0)}var z=[s],r,q,p,y,u;function w(A){if(A<=255){return 0}else{if(A<=65535){return 1}else{if(A<=16777215){return 2}else{if(A<=4294967295){return 3}else{throw Error("uncompressible: "+A)}}}}}function x(B,A){if(A<=255){B.push(A)}else{if(A<=65535){B.push((A&65280)>>8,A&255)}else{if(A<=16777215){B.push((A&16711680)>>16,(A&65280)>>8,A&255)}else{if(A<=4294967295){B.push((A&4278190080)>>24(A&16711680)>>16,(A&65280)>>8,(A&255))}}}}}for(var t=0;t<v.length;t+=4){r=v[t];q=v[t+1];p=v[t+2];y=v[t+3];u=(w(r)<<6)+(w(q)<<4)+(w(p)<<2)+(w(y));z.push(u);x(z,r);x(z,q);x(z,p);x(z,y)}return z}function o(u){var p=u[0];if(p>=4){throw new Error("invalid-input")}var r=1,q;var s,A,y,x,v;function w(C,B){return((C>>(B*2))&3)+1}function z(D){var C=0;for(var B=0;B<D.length;B++){C=(C<<8);C|=(D[B]&255)}return C}var t=[];while(r<u.length){s=u[r];r++;q=w(s,3);A=z(u.slice(r,r+q));r+=q;q=w(s,2);y=z(u.slice(r,r+q));r+=q;q=w(s,1);x=z(u.slice(r,r+q));r+=q;q=w(s,0);v=z(u.slice(r,r+q));r+=q;t.push(A,y,x,v)}return t.slice(0,t.length-p)}function k(x){if(!m.get("util.type")(x).isArrayBuffer()){throw Error("invalid-input")}var p=new Uint8Array(x);var r,u={},t,q,v="",y=[],s=256;for(r=0;r<256;r+=1){u[String.fromCharCode(r)]=r}for(r=0;r<p.length;r+=1){t=String.fromCharCode(p[r]);q=v+t;if(u.hasOwnProperty(q)){v=q}else{y.push(u[v]);u[q]=s++;v=String(t)}}if(""!==v){y.push(u[v])}return new Uint8Array(n(y)).buffer}function l(u){if(!m.get("util.type")(u).isArrayBuffer()){throw Error("invalid-input")}var p=new Uint8Array(u);p=o(p);var r,v=[],y,z,q,x="",s=256;for(r=0;r<256;r+=1){v[r]=String.fromCharCode(r)}y=String.fromCharCode(p[0]);z=y;for(r=1;r<p.length;r+=1){q=p[r];if(v[q]){x=v[q]}else{if(q===s){x=y+y.charAt(0)}else{return null}}z+=x;v[s++]=y+x.charAt(0);y=x}var t=new Uint8Array(z.length);for(var r=0;r<t.length;r++){t[r]=z.charCodeAt(r)}return t.buffer}m.exp("util.compress",k);m.exp("util.decompress",l);m.set("util.compress",k);m.set("util.decompress",l)})(a);(function(l){function k(u){if(!0==u.byteLength%2){throw new Error("decoding-error")}var u=new Uint16Array(u),p=0,r,o,t,q="";while(p<u.length){r=u[p];if((r>=0&&r<=55295)||(r>=57344&&r<=65535)){q+=String.fromCharCode(r);p+=1}else{if(r>=55296&&r<=56319){t=r;o=u[p+1];p+=2;if(o>=56320&&o<=57343){q+=String.fromCharCode(t)+String.fromCharCode(o)}else{throw new Error("decoding-error")}}else{throw new Error("decoding-error")}}}return q}function m(q,z){var r=this;var v=null;var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x="0123456789abcdef";var p=l.get("util.type")(q),B=l.get("util.encoding.base32");if(p.isArrayBuffer()){v=q}else{if(p.isArray()){var u=new Uint8Array(q.length);for(var y=0;y<u.length;y++){u[y]=q[y]&255}v=u.buffer}else{if(p.isString()){if(!z){z=""}switch(z.toLowerCase()){case"hex":if(!/^[0-9a-f]+$/i.test(q)||0!=q.length%2){throw Error("invalid-encoding-choosen")}q=q.toLowerCase();var s=new Uint8Array(q.length/2);for(var y=0;y<s.length;y++){s[y]=x.indexOf(q[2*y])*16+x.indexOf(q[2*y+1])}v=s.buffer;break;case"base64":if(/(=[^=]+|={3,})$/.test(q)){throw Error("invalid-encoding-choosen")}q=q.replace(/=/g,"");var t=q.length&3;if(1==t){throw Error("invalid-encoding-choosen")}var y=0,w=0,A=Math.ceil(q.length/4);var s=new Uint8Array(A*3);var G,F,E,C;for(y=0;y<A;y++){G=o.indexOf(q[w++]||"A");F=o.indexOf(q[w++]||"A");E=o.indexOf(q[w++]||"A");C=o.indexOf(q[w++]||"A");if((G|F|E|C)<0){throw Error("invalid-encoding-choosen")}s[y*3]=((G<<2)|(F>>4))&255;s[y*3+1]=((F<<4)|(E>>2))&255;s[y*3+2]=((E<<6)|C)&255}v=s.buffer.slice(0,s.length+t-4);break;case"base32":if(!/^[0-9a-z=]+$/.test(q)){throw Error("invalid-encoding-choosen")}var D=B.decode(q);v=new Uint8Array(D).buffer;break;case"ascii":var s=new Uint8Array(q.length);for(var y=0;y<s.length;y++){s[y]=q.charCodeAt(y)&255}v=s.buffer;break;default:var s=new Uint16Array(q.length);for(var y=0;y<q.length;y++){s[y]=q.charCodeAt(y)}v=s.buffer;break}}else{throw Error("unknown-encoding")}}}this.toArrayBuffer=function(){return v};this.toUTF16=function(){return k(v)};this.toBase64=function(){var N=new Uint8Array(v);var K=0,J=0,I=0,L=N.length/3;var H="";var P,O,M;for(K=0;K<L;++K){P=N[J++];O=N[J++];M=N[J++];H+=o[P>>2]+o[((P<<4)&63)|(O>>4)]+(isNaN(O)?"=":o[((O<<2)&63)|(M>>6)])+(isNaN(O+M)?"=":o[M&63])}console.log(N.length);return H};this.toBase32=function(){var H=new Uint8Array(v),I=B.encode(H);return I};this.toHEX=function(){var H=new Uint8Array(v),J="";for(var I=0;I<H.length;I++){if(H[I]<16){J+="0"+H[I].toString(16)}else{J+=H[I].toString(16)}}return J};this.toASCII=function(){var H=new Uint8Array(v),J="";for(var I=0;I<H.length;I++){J+=String.fromCharCode(H[I])}return J};this.toArray=function(){var H=new Uint8Array(v),I=new Array(H.length);for(var J=0;J<I.length;J++){I[J]=H[J]}return I};return this}var n=function(p,o){return new m(p,o)};l.set("util.encoding",n);l.exp("util.encoding",n)})(a);(function(k){var l={notice:function(m){console.log(m)},error:function(m){console.error(m)}};k.set("util.log",l);k.exp("util.log",l)})(a);(function(s){var k=new Uint32Array(16);function n(D,A){function C(F,E){return(((F)<<(E))|((F)>>>(32-(E))))}var B;var z=k;for(B=0;B<16;B++){z[B]=D[B]}for(B=0;B<32;B++){z[4]^=C(z[0]+z[12],7);z[8]^=C(z[4]+z[0],9);z[12]^=C(z[8]+z[4],13);z[0]^=C(z[12]+z[8],18);z[9]^=C(z[5]+z[1],7);z[13]^=C(z[9]+z[5],9);z[1]^=C(z[13]+z[9],13);z[5]^=C(z[1]+z[13],18);z[14]^=C(z[10]+z[6],7);z[2]^=C(z[14]+z[10],9);z[6]^=C(z[2]+z[14],13);z[10]^=C(z[6]+z[2],18);z[3]^=C(z[15]+z[11],7);z[7]^=C(z[3]+z[15],9);z[11]^=C(z[7]+z[3],13);z[15]^=C(z[11]+z[7],18);z[1]^=C(z[0]+z[3],7);z[2]^=C(z[1]+z[0],9);z[3]^=C(z[2]+z[1],13);z[0]^=C(z[3]+z[2],18);z[6]^=C(z[5]+z[4],7);z[7]^=C(z[6]+z[5],9);z[4]^=C(z[7]+z[6],13);z[5]^=C(z[4]+z[7],18);z[11]^=C(z[10]+z[9],7);z[8]^=C(z[11]+z[10],9);z[9]^=C(z[8]+z[11],13);z[10]^=C(z[9]+z[8],18);z[12]^=C(z[15]+z[14],7);z[13]^=C(z[12]+z[15],9);z[14]^=C(z[13]+z[12],13);z[15]^=C(z[14]+z[13],18)}for(B=0;B<16;B++){A[B]=z[B]+D[B]}}var r=new Uint8Array(16);function w(){for(var z=0;z<16;z++){r[z]=Math.floor(256*Math.random())}}w();var l=new Uint32Array([0,0]);function t(){l[0]=0;l[1]=0}function v(){l[0]+=1;if(0==l[0]){l[1]+=1}if(0==l[1]){w()}}var x=new Uint8Array(32),m=0;function y(z){x[m]=z;m+=1;if(m>=32){t();m=0}}for(var p=0;p<32;p++){y(Math.floor(256*Math.random()))}function o(){y(new Date().getTime()%256)}setInterval(o,100);function q(A){var C=new Uint32Array([1634760805,857760878,2036477234,1797285236]);var z=new Uint32Array(16),B=new Uint32Array(r.buffer),D=new Uint32Array(x.buffer);z[0]=C[0];z[1]=D[0];z[2]=D[1];z[3]=D[2];z[4]=D[3];z[5]=C[1];z[6]=B[0];z[7]=B[1];z[8]=l[0];z[9]=l[1];z[10]=C[2];z[11]=D[4];z[12]=D[5];z[13]=D[6];z[14]=D[7];z[15]=C[3];v();return n(z,A)}function u(){var z=this;var A=new Uint32Array(16);this.touch=function(){o()};this.bytes=function(G){var B=Math.ceil(G/64);var D=new Uint8Array(G),E=0,C=0,H;for(var F=0;F<B;F++){q(A);H=new Uint8Array(A.buffer);for(E=0;E<64;E++){if(C>=G){break}D[C]=H[E];C+=1}}return D.buffer};this.array=function(B){return new Uint8Array(z.bytes(B))};return this}s.set("util.srand",u);s.exp("util.srand",u)})(a);(function(k){function l(m){return{isError:function(){return toString.apply(m)==="[object Error]"},isArray:function(){return toString.apply(m)==="[object Array]"},isDate:function(){return toString.apply(m)==="[object Date]"},isObject:function(){return !!m&&Object.prototype.toString.call(m)==="[object Object]"},isPrimitive:function(){return self.isString(m)||self.isNumber(m)||self.isBoolean(m)},isFunction:function(){return toString.apply(m)==="[object Function]"},isDate:function(){return toString.apply(m)==="[object Date]"},isNumber:function(){return typeof m==="number"&&isFinite(m)},isString:function(){return typeof m==="string"},isBoolean:function(){return typeof m==="boolean"},isArrayBuffer:function(){return toString.apply(m)==="[object ArrayBuffer]"}}}k.set("util.type",l);k.exp("util.type",l)})(a);(function(k){function l(o){var n=this;var m=k.get("util.type");this.pack=function(s){if(!Boolean(s)){s=[]}else{if(s.length>255){throw new Error("invalid-parameter")}for(var r=0;r<s.length;r++){if(!m(s[r]).isArrayBuffer()){throw new Error("invalid-parameter")}}}var t=[];for(var r in s){var p=s[r].length;if(1==o){if(p>255){throw new Error("invalid-parameter")}var q=new Uint8Array([p]).buffer}else{if(2==o){if(p>65535){throw new Error("invalid-parameter")}var q=new Uint16Array([p]).buffer}}t.push(k.get("util.buffer").concat([q,s[r]]))}q=new Uint8Array([s.length]).buffer;t.unshift(q);return k.get("util.buffer").concat(t)};this.unpack=function(s){var q=0,p=0,v;var u=s.slice(0,1);s=s.slice(1);q=new Uint8Array(u)[0];var r=[];for(var t=0;t<q;t++){u=s.slice(0,o);s=s.slice(o);if(1==o){p=new Uint8Array(u)[0]}else{if(2==o){p=new Uint16Array(u)[0]}}v=s.slice(0,p);s=s.slice(p);r.push(v)}return[r,s]};return this}k.set("util.serialize.array",function(m){m.array=function(){return new l(2)};m.shortArray=function(){return new l(1)}})})(a);(function(l){function k(n){var m=this;this.unpack=function(o){var q;var p=o.slice(0,4);if(4==n){q=new Uint32Array(p)[0];o=o.slice(4)}else{if(2==n){q=new Uint16Array(p)[0];o=o.slice(2)}else{if(1==n){q=new Uint8Array(p)[0];o=o.slice(1)}}}if(0==q){return[null,o]}unpackResult=o.slice(0,q);o=o.slice(q);return[unpackResult,o]};this.pack=function(o){if(!Boolean(o)){o=new Uint8Array(0).buffer}if(!l.get("util.type")(o).isArrayBuffer()){throw new Error("invalid-parameter")}packLength=o.byteLength;if((4==n&&packLength>4294967295)||(2==n&&packLength>65535)||(1==n&&packLength>255)){throw new Error("invalid-parameter")}if(4==n){var p=new Uint32Array(1)}else{if(2==n){var p=new Uint16Array(1)}else{if(1==n){var p=new Uint8Array(1)}}}p[0]=packLength;p=p.buffer;return l.get("util.buffer").concat([p,o])};return this}l.set("util.serialize.binary",function(m){m.shortBinary=function(){return new k(1)};m.binary=function(){return new k(2)};m.longBinary=function(){return new k(4)}})})(a);(function(l){function k(){var m=this;this.pack=function(n){if(!l.get("util.type")(n).isBoolean()){throw new Error("invalid-parameter")}var o=new Uint8Array([(n?255:0)]).buffer;return o};this.unpack=function(n){var o=new Uint8Array(n.slice(0,1))[0];n=n.slice(1);return[Boolean(255==o),n]};return this}l.set("util.serialize.boolean",function(m){m["boolean"]=function(){return new k()}})})(a);(function(k){function l(o){var n=this;var m=k.get("util.type");if(!m(o).isArray()){throw new Error("invalid-parameter")}var q=false;o=o[0];if(m(o).isString()){o=k.get("util.encoding")(o).toArrayBuffer();q=true}if(!m(o).isArrayBuffer()){throw new Error("invalid-parameter")}this.pack=function(){return o};this.unpack=function(p){var r=p.slice(0,o.byteLength);p=p.slice(o.byteLength);if(!k.get("util.buffer").equal(r,o)){throw new Error("unexpected-constant")}if(q){r=k.get("util.encoding")(r).toUTF16()}return[r,p]};return this}k.set("util.serialize.constant",function(m){m.constant=function(n){return new l(n)}})})(a);module.exports=function(k){k.datetime=function(){return new f()}};function f(){var k=this;this.pack=function(o){if(!Boolean(o)){return new $.node.buffer.Buffer("00","hex")}if(!$.tools.type.isDate(o)){if($.tools.type.isString(o)){try{o=new Date(o)}catch(p){throw $.error("invalid-parameter","date")}}else{throw $.error("invalid-parameter","date")}}var m=new $.node.buffer.Buffer(o.toISOString(),"ascii"),n=m.length,l=new $.node.buffer.Buffer(1);l.writeUInt8(n,0);return $.node.buffer.Buffer.concat([l,m])};this.unpack=function(p){var m=p.slice(0,1),o=m.readUInt8(0);p=p.slice(1);if(0==o){return[null,p]}var l=p.slice(0,o);p=p.slice(o);var n=new Date(l.toString("ascii"));return[n,p]};return this}(function(k){function l(n){var m=this;if(!k.get("util.type")(n).isArray()||n.length>255){throw new Error("invalid-parameter")}this.pack=function(q){var p=n.indexOf(q);if(p<0){throw new Error("not-enum-item")}var o=new Uint8Array([p]);return o.buffer};this.unpack=function(o){var p=new Uint8Array(o.slice(0,1))[0];o=o.slice(1);if(p>=n.length){throw new Error("invalid-enum-value")}return[n[p],o]};return this}k.set("util.serialize.enum",function(m){m["enum"]=function(n){return new l(n)}})})(a);(function(l){var n=false;function k(p){var w=this;var q=l.get("util.type");if(!q(p).isObject()){throw new Error("invalid-data-structure")}var r=Object.keys(p).sort(),o=[];for(var t in r){var v=r[t];var u,s;if(q(p[v]).isString()){u=p[v];s=[]}else{u=p[v][0];s=p[v].slice(1)}if(!n[u]){throw new Error("invalid-data-structure")}o.push(n[u](s))}this.serialize=function(A){if(!q(A).isObject()){throw new Error("invalid-parameter")}var x=[];for(var z in o){var y=r[z];x.push(o[z].pack(A[y]))}return l.get("util.buffer").concat(x)};this.deserialize=function(y){if(!q(y).isArrayBuffer()){throw new Error("invalid-parameter")}var z={};for(var B in r){var A=r[B];var x=o[B].unpack(y);z[A]=x[0];y=x[1]}return z};return this}var m=function(o){if(false===n){n={};l.get("util.serialize.enum")(n);l.get("util.serialize.binary")(n);l.get("util.serialize.boolean")(n);l.get("util.serialize.constant")(n);l.get("util.serialize.array")(n)}return new k(o)};l.set("util.serialize",m)})(a);(function(l){function m(r,p){if(typeof r==="undefined"){r=32}this.isFinished=false;this.digestLength=32;this.blockLength=64;this.iv=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];if(r<=0){r=this.digestLength}else{if(r>32){throw"digestLength is too large"}}var n=0;if(typeof p=="string"){p=this.stringToUtf8Array(p);n=p.length}else{if(typeof p=="object"){n=p.length}}if(n>32){throw"key too long"}var q=[r&255,n,1,1];this.h=this.iv.slice(0);this.h[0]^=this.load32(q,0);this.x=new Array(64);this.t0=0;this.t1=0;this.f0=0;this.f1=0;this.nx=0;this.digestLength=r;if(n>0){for(var o=0;o<n;o++){this.x[o]=p[o]}for(var o=n;o<64;o++){this.x[o]=0}this.nx=64}}m.prototype.load32=function(n,o){return((n[o]&255)|((n[o+1]&255)<<8)|((n[o+2]&255)<<16)|((n[o+3]&255)<<24))>>>0};m.prototype.store32=function(o,q,n){o[q]=(n>>>0)&255;o[q+1]=(n>>>8)&255;o[q+2]=(n>>>16)&255;o[q+3]=(n>>>24)&255};m.prototype.processBlock=function(y){this.t0+=y;if(this.t0!=this.t0>>>0){this.t0=0;this.t1++}var x=this.h[0],w=this.h[1],v=this.h[2],u=this.h[3],s=this.h[4],q=this.h[5],o=this.h[6],T=this.h[7],R=this.iv[0],P=this.iv[1],M=this.iv[2],J=this.iv[3],G=this.iv[4]^this.t0,D=this.iv[5]^this.t1,B=this.iv[6]^this.f0,z=this.iv[7]^this.f1;var t=this.load32(this.x,0),r=this.load32(this.x,4),p=this.load32(this.x,8),n=this.load32(this.x,12),S=this.load32(this.x,16),Q=this.load32(this.x,20),O=this.load32(this.x,24),L=this.load32(this.x,28),I=this.load32(this.x,32),F=this.load32(this.x,36),N=this.load32(this.x,40),K=this.load32(this.x,44),H=this.load32(this.x,48),E=this.load32(this.x,52),C=this.load32(this.x,56),A=this.load32(this.x,60);x+=t;x+=s;G^=x;G=G<<(32-16)|G>>>16;R+=G;s^=R;s=s<<(32-12)|s>>>12;w+=p;w+=q;D^=w;D=D<<(32-16)|D>>>16;P+=D;q^=P;q=q<<(32-12)|q>>>12;v+=S;v+=o;B^=v;B=B<<(32-16)|B>>>16;M+=B;o^=M;o=o<<(32-12)|o>>>12;u+=O;u+=T;z^=u;z=z<<(32-16)|z>>>16;J+=z;T^=J;T=T<<(32-12)|T>>>12;v+=Q;v+=o;B^=v;B=B<<(32-8)|B>>>8;M+=B;o^=M;o=o<<(32-7)|o>>>7;u+=L;u+=T;z^=u;z=z<<(32-8)|z>>>8;J+=z;T^=J;T=T<<(32-7)|T>>>7;w+=n;w+=q;D^=w;D=D<<(32-8)|D>>>8;P+=D;q^=P;q=q<<(32-7)|q>>>7;x+=r;x+=s;G^=x;G=G<<(32-8)|G>>>8;R+=G;s^=R;s=s<<(32-7)|s>>>7;x+=I;x+=q;z^=x;z=z<<(32-16)|z>>>16;M+=z;q^=M;q=q<<(32-12)|q>>>12;w+=N;w+=o;G^=w;G=G<<(32-16)|G>>>16;J+=G;o^=J;o=o<<(32-12)|o>>>12;v+=H;v+=T;D^=v;D=D<<(32-16)|D>>>16;R+=D;T^=R;T=T<<(32-12)|T>>>12;u+=C;u+=s;B^=u;B=B<<(32-16)|B>>>16;P+=B;s^=P;s=s<<(32-12)|s>>>12;v+=E;v+=T;D^=v;D=D<<(32-8)|D>>>8;R+=D;T^=R;T=T<<(32-7)|T>>>7;u+=A;u+=s;B^=u;B=B<<(32-8)|B>>>8;P+=B;s^=P;s=s<<(32-7)|s>>>7;w+=K;w+=o;G^=w;G=G<<(32-8)|G>>>8;J+=G;o^=J;o=o<<(32-7)|o>>>7;x+=F;x+=q;z^=x;z=z<<(32-8)|z>>>8;M+=z;q^=M;q=q<<(32-7)|q>>>7;x+=C;x+=s;G^=x;G=G<<(32-16)|G>>>16;R+=G;s^=R;s=s<<(32-12)|s>>>12;w+=S;w+=q;D^=w;D=D<<(32-16)|D>>>16;P+=D;q^=P;q=q<<(32-12)|q>>>12;v+=F;v+=o;B^=v;B=B<<(32-16)|B>>>16;M+=B;o^=M;o=o<<(32-12)|o>>>12;u+=E;u+=T;z^=u;z=z<<(32-16)|z>>>16;J+=z;T^=J;T=T<<(32-12)|T>>>12;v+=A;v+=o;B^=v;B=B<<(32-8)|B>>>8;M+=B;o^=M;o=o<<(32-7)|o>>>7;u+=O;u+=T;z^=u;z=z<<(32-8)|z>>>8;J+=z;T^=J;T=T<<(32-7)|T>>>7;w+=I;w+=q;D^=w;D=D<<(32-8)|D>>>8;P+=D;q^=P;q=q<<(32-7)|q>>>7;x+=N;x+=s;G^=x;G=G<<(32-8)|G>>>8;R+=G;s^=R;s=s<<(32-7)|s>>>7;x+=r;x+=q;z^=x;z=z<<(32-16)|z>>>16;M+=z;q^=M;q=q<<(32-12)|q>>>12;w+=t;w+=o;G^=w;G=G<<(32-16)|G>>>16;J+=G;o^=J;o=o<<(32-12)|o>>>12;v+=K;v+=T;D^=v;D=D<<(32-16)|D>>>16;R+=D;T^=R;T=T<<(32-12)|T>>>12;u+=Q;u+=s;B^=u;B=B<<(32-16)|B>>>16;P+=B;s^=P;s=s<<(32-12)|s>>>12;v+=L;v+=T;D^=v;D=D<<(32-8)|D>>>8;R+=D;T^=R;T=T<<(32-7)|T>>>7;u+=n;u+=s;B^=u;B=B<<(32-8)|B>>>8;P+=B;s^=P;s=s<<(32-7)|s>>>7;w+=p;w+=o;G^=w;G=G<<(32-8)|G>>>8;J+=G;o^=J;o=o<<(32-7)|o>>>7;x+=H;x+=q;z^=x;z=z<<(32-8)|z>>>8;M+=z;q^=M;q=q<<(32-7)|q>>>7;x+=K;x+=s;G^=x;G=G<<(32-16)|G>>>16;R+=G;s^=R;s=s<<(32-12)|s>>>12;w+=H;w+=q;D^=w;D=D<<(32-16)|D>>>16;P+=D;q^=P;q=q<<(32-12)|q>>>12;v+=Q;v+=o;B^=v;B=B<<(32-16)|B>>>16;M+=B;o^=M;o=o<<(32-12)|o>>>12;u+=A;u+=T;z^=u;z=z<<(32-16)|z>>>16;J+=z;T^=J;T=T<<(32-12)|T>>>12;v+=p;v+=o;B^=v;B=B<<(32-8)|B>>>8;M+=B;o^=M;o=o<<(32-7)|o>>>7;u+=E;u+=T;z^=u;z=z<<(32-8)|z>>>8;J+=z;T^=J;T=T<<(32-7)|T>>>7;w+=t;w+=q;D^=w;D=D<<(32-8)|D>>>8;P+=D;q^=P;q=q<<(32-7)|q>>>7;x+=I;x+=s;G^=x;G=G<<(32-8)|G>>>8;R+=G;s^=R;s=s<<(32-7)|s>>>7;x+=N;x+=q;z^=x;z=z<<(32-16)|z>>>16;M+=z;q^=M;q=q<<(32-12)|q>>>12;w+=n;w+=o;G^=w;G=G<<(32-16)|G>>>16;J+=G;o^=J;o=o<<(32-12)|o>>>12;v+=L;v+=T;D^=v;D=D<<(32-16)|D>>>16;R+=D;T^=R;T=T<<(32-12)|T>>>12;u+=F;u+=s;B^=u;B=B<<(32-16)|B>>>16;P+=B;s^=P;s=s<<(32-12)|s>>>12;v+=r;v+=T;D^=v;D=D<<(32-8)|D>>>8;R+=D;T^=R;T=T<<(32-7)|T>>>7;u+=S;u+=s;B^=u;B=B<<(32-8)|B>>>8;P+=B;s^=P;s=s<<(32-7)|s>>>7;w+=O;w+=o;G^=w;G=G<<(32-8)|G>>>8;J+=G;o^=J;o=o<<(32-7)|o>>>7;x+=C;x+=q;z^=x;z=z<<(32-8)|z>>>8;M+=z;q^=M;q=q<<(32-7)|q>>>7;x+=L;x+=s;G^=x;G=G<<(32-16)|G>>>16;R+=G;s^=R;s=s<<(32-12)|s>>>12;w+=n;w+=q;D^=w;D=D<<(32-16)|D>>>16;P+=D;q^=P;q=q<<(32-12)|q>>>12;v+=E;v+=o;B^=v;B=B<<(32-16)|B>>>16;M+=B;o^=M;o=o<<(32-12)|o>>>12;u+=K;u+=T;z^=u;z=z<<(32-16)|z>>>16;J+=z;T^=J;T=T<<(32-12)|T>>>12;v+=H;v+=o;B^=v;B=B<<(32-8)|B>>>8;M+=B;o^=M;o=o<<(32-7)|o>>>7;u+=C;u+=T;z^=u;z=z<<(32-8)|z>>>8;J+=z;T^=J;T=T<<(32-7)|T>>>7;w+=r;w+=q;D^=w;D=D<<(32-8)|D>>>8;P+=D;q^=P;q=q<<(32-7)|q>>>7;x+=F;x+=s;G^=x;G=G<<(32-8)|G>>>8;R+=G;s^=R;s=s<<(32-7)|s>>>7;x+=p;x+=q;z^=x;z=z<<(32-16)|z>>>16;M+=z;q^=M;q=q<<(32-12)|q>>>12;w+=Q;w+=o;G^=w;G=G<<(32-16)|G>>>16;J+=G;o^=J;o=o<<(32-12)|o>>>12;v+=S;v+=T;D^=v;D=D<<(32-16)|D>>>16;R+=D;T^=R;T=T<<(32-12)|T>>>12;u+=A;u+=s;B^=u;B=B<<(32-16)|B>>>16;P+=B;s^=P;s=s<<(32-12)|s>>>12;v+=t;v+=T;D^=v;D=D<<(32-8)|D>>>8;R+=D;T^=R;T=T<<(32-7)|T>>>7;u+=I;u+=s;B^=u;B=B<<(32-8)|B>>>8;P+=B;s^=P;s=s<<(32-7)|s>>>7;w+=N;w+=o;G^=w;G=G<<(32-8)|G>>>8;J+=G;o^=J;o=o<<(32-7)|o>>>7;x+=O;x+=q;z^=x;z=z<<(32-8)|z>>>8;M+=z;q^=M;q=q<<(32-7)|q>>>7;x+=F;x+=s;G^=x;G=G<<(32-16)|G>>>16;R+=G;s^=R;s=s<<(32-12)|s>>>12;w+=Q;w+=q;D^=w;D=D<<(32-16)|D>>>16;P+=D;q^=P;q=q<<(32-12)|q>>>12;v+=p;v+=o;B^=v;B=B<<(32-16)|B>>>16;M+=B;o^=M;o=o<<(32-12)|o>>>12;u+=N;u+=T;z^=u;z=z<<(32-16)|z>>>16;J+=z;T^=J;T=T<<(32-12)|T>>>12;v+=S;v+=o;B^=v;B=B<<(32-8)|B>>>8;M+=B;o^=M;o=o<<(32-7)|o>>>7;u+=A;u+=T;z^=u;z=z<<(32-8)|z>>>8;J+=z;T^=J;T=T<<(32-7)|T>>>7;w+=L;w+=q;D^=w;D=D<<(32-8)|D>>>8;P+=D;q^=P;q=q<<(32-7)|q>>>7;x+=t;x+=s;G^=x;G=G<<(32-8)|G>>>8;R+=G;s^=R;s=s<<(32-7)|s>>>7;x+=C;x+=q;z^=x;z=z<<(32-16)|z>>>16;M+=z;q^=M;q=q<<(32-12)|q>>>12;w+=K;w+=o;G^=w;G=G<<(32-16)|G>>>16;J+=G;o^=J;o=o<<(32-12)|o>>>12;v+=O;v+=T;D^=v;D=D<<(32-16)|D>>>16;R+=D;T^=R;T=T<<(32-12)|T>>>12;u+=n;u+=s;B^=u;B=B<<(32-16)|B>>>16;P+=B;s^=P;s=s<<(32-12)|s>>>12;v+=I;v+=T;D^=v;D=D<<(32-8)|D>>>8;R+=D;T^=R;T=T<<(32-7)|T>>>7;u+=E;u+=s;B^=u;B=B<<(32-8)|B>>>8;P+=B;s^=P;s=s<<(32-7)|s>>>7;w+=H;w+=o;G^=w;G=G<<(32-8)|G>>>8;J+=G;o^=J;o=o<<(32-7)|o>>>7;x+=r;x+=q;z^=x;z=z<<(32-8)|z>>>8;M+=z;q^=M;q=q<<(32-7)|q>>>7;x+=p;x+=s;G^=x;G=G<<(32-16)|G>>>16;R+=G;s^=R;s=s<<(32-12)|s>>>12;w+=O;w+=q;D^=w;D=D<<(32-16)|D>>>16;P+=D;q^=P;q=q<<(32-12)|q>>>12;v+=t;v+=o;B^=v;B=B<<(32-16)|B>>>16;M+=B;o^=M;o=o<<(32-12)|o>>>12;u+=I;u+=T;z^=u;z=z<<(32-16)|z>>>16;J+=z;T^=J;T=T<<(32-12)|T>>>12;v+=K;v+=o;B^=v;B=B<<(32-8)|B>>>8;M+=B;o^=M;o=o<<(32-7)|o>>>7;u+=n;u+=T;z^=u;z=z<<(32-8)|z>>>8;J+=z;T^=J;T=T<<(32-7)|T>>>7;w+=N;w+=q;D^=w;D=D<<(32-8)|D>>>8;P+=D;q^=P;q=q<<(32-7)|q>>>7;x+=H;x+=s;G^=x;G=G<<(32-8)|G>>>8;R+=G;s^=R;s=s<<(32-7)|s>>>7;x+=S;x+=q;z^=x;z=z<<(32-16)|z>>>16;M+=z;q^=M;q=q<<(32-12)|q>>>12;w+=L;w+=o;G^=w;G=G<<(32-16)|G>>>16;J+=G;o^=J;o=o<<(32-12)|o>>>12;v+=A;v+=T;D^=v;D=D<<(32-16)|D>>>16;R+=D;T^=R;T=T<<(32-12)|T>>>12;u+=r;u+=s;B^=u;B=B<<(32-16)|B>>>16;P+=B;s^=P;s=s<<(32-12)|s>>>12;v+=C;v+=T;D^=v;D=D<<(32-8)|D>>>8;R+=D;T^=R;T=T<<(32-7)|T>>>7;u+=F;u+=s;B^=u;B=B<<(32-8)|B>>>8;P+=B;s^=P;s=s<<(32-7)|s>>>7;w+=Q;w+=o;G^=w;G=G<<(32-8)|G>>>8;J+=G;o^=J;o=o<<(32-7)|o>>>7;x+=E;x+=q;z^=x;z=z<<(32-8)|z>>>8;M+=z;q^=M;q=q<<(32-7)|q>>>7;x+=H;x+=s;G^=x;G=G<<(32-16)|G>>>16;R+=G;s^=R;s=s<<(32-12)|s>>>12;w+=r;w+=q;D^=w;D=D<<(32-16)|D>>>16;P+=D;q^=P;q=q<<(32-12)|q>>>12;v+=C;v+=o;B^=v;B=B<<(32-16)|B>>>16;M+=B;o^=M;o=o<<(32-12)|o>>>12;u+=S;u+=T;z^=u;z=z<<(32-16)|z>>>16;J+=z;T^=J;T=T<<(32-12)|T>>>12;v+=E;v+=o;B^=v;B=B<<(32-8)|B>>>8;M+=B;o^=M;o=o<<(32-7)|o>>>7;u+=N;u+=T;z^=u;z=z<<(32-8)|z>>>8;J+=z;T^=J;T=T<<(32-7)|T>>>7;w+=A;w+=q;D^=w;D=D<<(32-8)|D>>>8;P+=D;q^=P;q=q<<(32-7)|q>>>7;x+=Q;x+=s;G^=x;G=G<<(32-8)|G>>>8;R+=G;s^=R;s=s<<(32-7)|s>>>7;x+=t;x+=q;z^=x;z=z<<(32-16)|z>>>16;M+=z;q^=M;q=q<<(32-12)|q>>>12;w+=O;w+=o;G^=w;G=G<<(32-16)|G>>>16;J+=G;o^=J;o=o<<(32-12)|o>>>12;v+=F;v+=T;D^=v;D=D<<(32-16)|D>>>16;R+=D;T^=R;T=T<<(32-12)|T>>>12;u+=I;u+=s;B^=u;B=B<<(32-16)|B>>>16;P+=B;s^=P;s=s<<(32-12)|s>>>12;v+=p;v+=T;D^=v;D=D<<(32-8)|D>>>8;R+=D;T^=R;T=T<<(32-7)|T>>>7;u+=K;u+=s;B^=u;B=B<<(32-8)|B>>>8;P+=B;s^=P;s=s<<(32-7)|s>>>7;w+=n;w+=o;G^=w;G=G<<(32-8)|G>>>8;J+=G;o^=J;o=o<<(32-7)|o>>>7;x+=L;x+=q;z^=x;z=z<<(32-8)|z>>>8;M+=z;q^=M;q=q<<(32-7)|q>>>7;x+=E;x+=s;G^=x;G=G<<(32-16)|G>>>16;R+=G;s^=R;s=s<<(32-12)|s>>>12;w+=L;w+=q;D^=w;D=D<<(32-16)|D>>>16;P+=D;q^=P;q=q<<(32-12)|q>>>12;v+=H;v+=o;B^=v;B=B<<(32-16)|B>>>16;M+=B;o^=M;o=o<<(32-12)|o>>>12;u+=n;u+=T;z^=u;z=z<<(32-16)|z>>>16;J+=z;T^=J;T=T<<(32-12)|T>>>12;v+=r;v+=o;B^=v;B=B<<(32-8)|B>>>8;M+=B;o^=M;o=o<<(32-7)|o>>>7;u+=F;u+=T;z^=u;z=z<<(32-8)|z>>>8;J+=z;T^=J;T=T<<(32-7)|T>>>7;w+=C;w+=q;D^=w;D=D<<(32-8)|D>>>8;P+=D;q^=P;q=q<<(32-7)|q>>>7;x+=K;x+=s;G^=x;G=G<<(32-8)|G>>>8;R+=G;s^=R;s=s<<(32-7)|s>>>7;x+=Q;x+=q;z^=x;z=z<<(32-16)|z>>>16;M+=z;q^=M;q=q<<(32-12)|q>>>12;w+=A;w+=o;G^=w;G=G<<(32-16)|G>>>16;J+=G;o^=J;o=o<<(32-12)|o>>>12;v+=I;v+=T;D^=v;D=D<<(32-16)|D>>>16;R+=D;T^=R;T=T<<(32-12)|T>>>12;u+=p;u+=s;B^=u;B=B<<(32-16)|B>>>16;P+=B;s^=P;s=s<<(32-12)|s>>>12;v+=O;v+=T;D^=v;D=D<<(32-8)|D>>>8;R+=D;T^=R;T=T<<(32-7)|T>>>7;u+=N;u+=s;B^=u;B=B<<(32-8)|B>>>8;P+=B;s^=P;s=s<<(32-7)|s>>>7;w+=S;w+=o;G^=w;G=G<<(32-8)|G>>>8;J+=G;o^=J;o=o<<(32-7)|o>>>7;x+=t;x+=q;z^=x;z=z<<(32-8)|z>>>8;M+=z;q^=M;q=q<<(32-7)|q>>>7;x+=O;x+=s;G^=x;G=G<<(32-16)|G>>>16;R+=G;s^=R;s=s<<(32-12)|s>>>12;w+=C;w+=q;D^=w;D=D<<(32-16)|D>>>16;P+=D;q^=P;q=q<<(32-12)|q>>>12;v+=K;v+=o;B^=v;B=B<<(32-16)|B>>>16;M+=B;o^=M;o=o<<(32-12)|o>>>12;u+=t;u+=T;z^=u;z=z<<(32-16)|z>>>16;J+=z;T^=J;T=T<<(32-12)|T>>>12;v+=n;v+=o;B^=v;B=B<<(32-8)|B>>>8;M+=B;o^=M;o=o<<(32-7)|o>>>7;u+=I;u+=T;z^=u;z=z<<(32-8)|z>>>8;J+=z;T^=J;T=T<<(32-7)|T>>>7;w+=F;w+=q;D^=w;D=D<<(32-8)|D>>>8;P+=D;q^=P;q=q<<(32-7)|q>>>7;x+=A;x+=s;G^=x;G=G<<(32-8)|G>>>8;R+=G;s^=R;s=s<<(32-7)|s>>>7;x+=H;x+=q;z^=x;z=z<<(32-16)|z>>>16;M+=z;q^=M;q=q<<(32-12)|q>>>12;w+=E;w+=o;G^=w;G=G<<(32-16)|G>>>16;J+=G;o^=J;o=o<<(32-12)|o>>>12;v+=r;v+=T;D^=v;D=D<<(32-16)|D>>>16;R+=D;T^=R;T=T<<(32-12)|T>>>12;u+=N;u+=s;B^=u;B=B<<(32-16)|B>>>16;P+=B;s^=P;s=s<<(32-12)|s>>>12;v+=S;v+=T;D^=v;D=D<<(32-8)|D>>>8;R+=D;T^=R;T=T<<(32-7)|T>>>7;u+=Q;u+=s;B^=u;B=B<<(32-8)|B>>>8;P+=B;s^=P;s=s<<(32-7)|s>>>7;w+=L;w+=o;G^=w;G=G<<(32-8)|G>>>8;J+=G;o^=J;o=o<<(32-7)|o>>>7;x+=p;x+=q;z^=x;z=z<<(32-8)|z>>>8;M+=z;q^=M;q=q<<(32-7)|q>>>7;x+=N;x+=s;G^=x;G=G<<(32-16)|G>>>16;R+=G;s^=R;s=s<<(32-12)|s>>>12;w+=I;w+=q;D^=w;D=D<<(32-16)|D>>>16;P+=D;q^=P;q=q<<(32-12)|q>>>12;v+=L;v+=o;B^=v;B=B<<(32-16)|B>>>16;M+=B;o^=M;o=o<<(32-12)|o>>>12;u+=r;u+=T;z^=u;z=z<<(32-16)|z>>>16;J+=z;T^=J;T=T<<(32-12)|T>>>12;v+=O;v+=o;B^=v;B=B<<(32-8)|B>>>8;M+=B;o^=M;o=o<<(32-7)|o>>>7;u+=Q;u+=T;z^=u;z=z<<(32-8)|z>>>8;J+=z;T^=J;T=T<<(32-7)|T>>>7;w+=S;w+=q;D^=w;D=D<<(32-8)|D>>>8;P+=D;q^=P;q=q<<(32-7)|q>>>7;x+=p;x+=s;G^=x;G=G<<(32-8)|G>>>8;R+=G;s^=R;s=s<<(32-7)|s>>>7;x+=A;x+=q;z^=x;z=z<<(32-16)|z>>>16;M+=z;q^=M;q=q<<(32-12)|q>>>12;w+=F;w+=o;G^=w;G=G<<(32-16)|G>>>16;J+=G;o^=J;o=o<<(32-12)|o>>>12;v+=n;v+=T;D^=v;D=D<<(32-16)|D>>>16;R+=D;T^=R;T=T<<(32-12)|T>>>12;u+=E;u+=s;B^=u;B=B<<(32-16)|B>>>16;P+=B;s^=P;s=s<<(32-12)|s>>>12;v+=H;v+=T;D^=v;D=D<<(32-8)|D>>>8;R+=D;T^=R;T=T<<(32-7)|T>>>7;u+=t;u+=s;B^=u;B=B<<(32-8)|B>>>8;P+=B;s^=P;s=s<<(32-7)|s>>>7;w+=C;w+=o;G^=w;G=G<<(32-8)|G>>>8;J+=G;o^=J;o=(o<<(32-7))|(o>>>7);x+=K;x+=q;z^=x;z=(z<<(32-8))|(z>>>8);M+=z;q^=M;q=(q<<(32-7))|(q>>>7);this.h[0]^=x^R;this.h[1]^=w^P;this.h[2]^=v^M;this.h[3]^=u^J;this.h[4]^=s^G;this.h[5]^=q^D;this.h[6]^=o^B;this.h[7]^=T^z};m.prototype.stringToUtf8Array=function(p){var n=[];for(var o=0;o<p.length;o++){var q=p.charCodeAt(o);if(q<128){n.push(q)}else{if(q>127&&q<2048){n.push((q>>6)|192);n.push((q&63)|128)}else{n.push((q>>12)|224);n.push(((q>>6)&63)|128);n.push((q&64)|128)}}}return n};m.prototype.update=function(r,s,o){if(typeof s==="undefined"){s=0}if(typeof o==="undefined"){o=r.length}if(this.isFinished){throw"update() after calling digest()"}if(typeof r=="string"){if(s!=0){throw"offset not supported for strings"}r=this.stringToUtf8Array(r);o=r.length;s=0}else{if(typeof r!="object"){throw"unsupported object: string or array required"}}if(o==0){return}var q=64-this.nx;if(o>q){for(var n=0;n<q;n++){this.x[this.nx+n]=r[s+n]}this.processBlock(64);s+=q;o-=q;this.nx=0}while(o>64){for(var n=0;n<64;n++){this.x[n]=r[s+n]}this.processBlock(64);s+=64;o-=64;this.nx=0}for(var n=0;n<o;n++){this.x[this.nx+n]=r[s+n]}this.nx+=o};m.prototype.digest=function(){if(this.isFinished){return this.result}for(var o=this.nx;o<64;o++){this.x[o]=0}this.f0=4294967295;this.processBlock(this.nx);var n=new Array(32);for(var o=0;o<8;o++){var p=this.h[o];n[o*4+0]=(p>>>0)&255;n[o*4+1]=(p>>>8)&255;n[o*4+2]=(p>>>16)&255;n[o*4+3]=(p>>>24)&255}this.result=n.slice(0,this.digestLength);this.isFinished=true;return this.result};function k(p){var n=this;this.name="BLAKE2s";this.blockSize=32;if(p&&l.get("util.type")(p.length).isNumber()&&p.length<=32&&p.length>=1){this.digestSize=Math.floor(p.length)}else{this.digestSize=32}function o(s,r){if(r){var q=new m(n.digestSize,new Uint8Array(r))}else{var q=new m(n.digestSize)}q.update(new Uint8Array(s));return new Uint8Array(q.digest()).buffer}this.mac=function(r,q){if(q.byteLength>32){q=q.slice(0,32)}return o(r,q)};this.hash=function(q){return o(q)};return this}l.set("hash.algorithms.blake2s",k)})(a);(function(l){var m={};function n(r,q){var p=this;this.algorithms=["ripemd160","blake2s","whirlpool"];r=r.toLowerCase();if(this.algorithms.indexOf(r)<0){throw new Error("hash-algorithm-unknown")}var t=l.get("hash.algorithms."+r);function s(u){return{hex:l.get("util.encoding")(u).toHEX(),buffer:u}}this.hash=function(v){if(!l.get("util.type")(v).isArrayBuffer()){throw Error("invalid-parameter")}var u=new t(q);return s(u.hash(v))};this.mac=function(w,x){if(!(l.get("util.type")(x).isArrayBuffer()&&l.get("util.type")(w).isArrayBuffer())){throw Error("invalid-parameter")}var v;var u=new t(q);if(l.get("util.type")(u.mac).isFunction()){v=u.mac(w,x)}else{v=o(u.hash,x,w,u.blockSize)}return s(v)};this.pbkdf2=function(v,u,x,w){if(!(l.get("util.type")(v).isArrayBuffer()&&l.get("util.type")(u).isArrayBuffer()&&x>0&&w>0)){throw Error("invalid-parameter")}return k(p.mac,new t().digestSize,v,u,x,w)};return this}function o(A,r,t,x){if(r.byteLength>x){r=new Uint8Array(A(r))}else{if(r.byteLength<x){var p=new Uint8Array(x),w=new Uint8Array(r);for(var u=0;u<p.length;u++){if(u<r.byteLength){p[u]=w[u]}else{p[u]=0}}r=p}}var B=new Uint8Array(x);var s=new Uint8Array(x);for(var u=0;u<x;u++){B[u]=92^r[u];s[u]=54^r[u]}var q=l.get("util.buffer").concat([s.buffer,t]),y=A(q);var z=l.get("util.buffer").concat([B.buffer,y]),v=A(z);return v}function k(C,A,w,t,r,p){var B=Math.ceil(p/A);var y=new Array(B);for(var v=0;v<B;v++){var x=false;var q=new Uint32Array([v]);var z=l.get("util.buffer").concat([t,q.buffer]);for(var u=0;u<r;u++){var s=C(w,z).buffer;if(false===x){x=s}else{x=l.get("util.buffer").xor(s,x)}z=s}y[v]=x}return l.get("util.buffer").concat(y).slice(0,p)}l.exp("hash",n);l.set("hash",n)})(a);(function(o){var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var z=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var n=[0,1518500249,1859775393,2400959708,2840853838];var B=[1352829926,1548603684,1836072691,2053994217,0];var k=function(D){var F=[];for(var E=0,C=0;E<D.length;E++,C+=8){F[C>>>5]|=D[E]<<(24-C%32)}return F};var q=function(E){var D=[];for(var C=0;C<E.length*32;C+=8){D.push((E[C>>>5]>>>(24-C%32))&255)}return D};var A=function(Q,N,G){for(var I=0;I<16;I++){var S=G+I;var O=N[S];N[S]=((((O<<8)|(O>>>24))&16711935)|(((O<<24)|(O>>>8))&4278255360))}var K,D,P,J,C;var F,U,L,E,R;F=K=Q[0];U=D=Q[1];L=P=Q[2];E=J=Q[3];R=C=Q[4];var T;for(var I=0;I<80;I+=1){T=(K+N[G+p[I]])|0;if(I<16){T+=x(D,P,J)+n[0]}else{if(I<32){T+=w(D,P,J)+n[1]}else{if(I<48){T+=v(D,P,J)+n[2]}else{if(I<64){T+=u(D,P,J)+n[3]}else{T+=t(D,P,J)+n[4]}}}}T=T|0;T=s(T,z[I]);T=(T+C)|0;K=C;C=J;J=s(P,10);P=D;D=T;T=(F+N[G+m[I]])|0;if(I<16){T+=t(U,L,E)+B[0]}else{if(I<32){T+=u(U,L,E)+B[1]}else{if(I<48){T+=v(U,L,E)+B[2]}else{if(I<64){T+=w(U,L,E)+B[3]}else{T+=x(U,L,E)+B[4]}}}}T=T|0;T=s(T,y[I]);T=(T+R)|0;F=R;R=E;E=s(L,10);L=U;U=T}T=(Q[1]+P+E)|0;Q[1]=(Q[2]+J+R)|0;Q[2]=(Q[3]+C+F)|0;Q[3]=(Q[4]+K+U)|0;Q[4]=(Q[0]+D+L)|0;Q[0]=T};function x(C,E,D){return((C)^(E)^(D))}function w(C,E,D){return(((C)&(E))|((~C)&(D)))}function v(C,E,D){return(((C)|(~(E)))^(D))}function u(C,E,D){return(((C)&(D))|((E)&(~(D))))}function t(C,E,D){return((C)^((E)|(~(D))))}function s(C,D){return(C<<D)|(C>>>(32-D))}function l(K){var J=[1732584193,4023233417,2562383102,271733878,3285377520],L=new Uint8Array(K);var D=k(L);var I=L.length*8;var G=L.length*8;D[I>>>5]|=128<<(24-I%32);D[(((I+64)>>>9)<<4)+14]=((((G<<8)|(G>>>24))&16711935)|(((G<<24)|(G>>>8))&4278255360));for(var E=0;E<D.length;E+=16){A(J,D,E)}var C;for(var E=0;E<5;E++){C=J[E];J[E]=(((C<<8)|(C>>>24))&16711935)|(((C<<24)|(C>>>8))&4278255360)}var F=q(J);return new Uint8Array(F).buffer}function r(){var C=this;this.name="RIPEMD160";this.blockSize=64;this.digestSize=20;this.hash=function(D){return l(D)};return this}o.set("hash.algorithms.ripemd160",r)})(a);(function(p){var O,s=10,F=[],H=[],D,B,N,G,M,o,n,l,k,S,Q,E="\u1823\uc6E8\u87B8\u014F\u36A6\ud2F5\u796F\u9152\u60Bc\u9B8E\uA30c\u7B35\u1dE0\ud7c2\u2E4B\uFE57\u1577\u37E5\u9FF0\u4AdA\u58c9\u290A\uB1A0\u6B85\uBd5d\u10F4\ucB3E\u0567\uE427\u418B\uA77d\u95d8\uFBEE\u7c66\udd17\u479E\ucA2d\uBF07\uAd5A\u8333\u6302\uAA71\uc819\u49d9\uF2E3\u5B88\u9A26\u32B0\uE90F\ud580\uBEcd\u3448\uFF7A\u905F\u2068\u1AAE\uB454\u9322\u64F1\u7312\u4008\uc3Ec\udBA1\u8d3d\u9700\ucF2B\u7682\ud61B\uB5AF\u6A50\u45F3\u30EF\u3F55\uA2EA\u65BA\u2Fc0\udE1c\uFd4d\u9275\u068A\uB2E6\u0E1F\u62d4\uA896\uF9c5\u2559\u8472\u394c\u5E78\u388c\ud1A5\uE261\uB321\u9c1E\u43c7\uFc04\u5199\u6d0d\uFAdF\u7E24\u3BAB\ucE11\u8F4E\uB7EB\u3c81\u94F7\uB913\u2cd3\uE76E\uc403\u5644\u7FA9\u2ABB\uc153\udc0B\u9d6c\u3174\uF646\uAc89\u14E1\u163A\u6909\u70B6\ud0Ed\ucc42\u98A4\u285c\uF886";for(D=8;D-->0;){F[D]=[]}for(B=0;B<256;B++){N=E.charCodeAt(B/2);o=((B&1)==0)?N>>>8:N&255;n=o<<1;if(n>=256){n^=285}l=n<<1;if(l>=256){l^=285}k=l^o;S=l<<1;if(S>=256){S^=285}Q=S^o;F[0][B]=[0,0];F[0][B][0]=(o<<24)|(o<<16)|(l<<8)|(o);F[0][B][1]=(S<<24)|(k<<16)|(n<<8)|(Q);for(var D=1;D<8;D++){F[D][B]=[0,0];F[D][B][0]=(F[D-1][B][0]>>>8)|((F[D-1][B][1]<<24));F[D][B][1]=(F[D-1][B][1]>>>8)|((F[D-1][B][0]<<24))}}H[0]=[0,0];for(G=1;G<=s;G++){M=8*(G-1);H[G]=[0,0];H[G][0]=(F[0][M][0]&4278190080)^(F[1][M+1][0]&16711680)^(F[2][M+2][0]&65280)^(F[3][M+3][0]&255);H[G][1]=(F[4][M+4][1]&4278190080)^(F[5][M+5][1]&16711680)^(F[6][M+6][1]&65280)^(F[7][M+7][1]&255)}var J=[],I=[],y=0,u=0,m=[],z=[],w=[],v=[],q=[];var P=function(){var K,x,R,L,C;for(K=0,x=0;K<8;K++,x+=8){v[K]=[0,0];v[K][0]=((I[x]&255)<<24)^((I[x+1]&255)<<16)^((I[x+2]&255)<<8)^((I[x+3]&255));v[K][1]=((I[x+4]&255)<<24)^((I[x+5]&255)<<16)^((I[x+6]&255)<<8)^((I[x+7]&255))}for(K=0;K<8;K++){q[K]=[0,0];z[K]=[0,0];q[K][0]=v[K][0]^(z[K][0]=m[K][0]);q[K][1]=v[K][1]^(z[K][1]=m[K][1])}for(R=1;R<=s;R++){for(K=0;K<8;K++){w[K]=[0,0];for(C=0,L=56,x=0;C<8;C++,L-=8,x=L<32?1:0){w[K][0]^=F[C][(z[(K-C)&7][x]>>>(L%32))&255][0];w[K][1]^=F[C][(z[(K-C)&7][x]>>>(L%32))&255][1]}}for(K=0;K<8;K++){z[K][0]=w[K][0];z[K][1]=w[K][1]}z[0][0]^=H[R][0];z[0][1]^=H[R][1];for(K=0;K<8;K++){w[K][0]=z[K][0];w[K][1]=z[K][1];for(C=0,L=56,x=0;C<8;C++,L-=8,x=L<32?1:0){w[K][0]^=F[C][(q[(K-C)&7][x]>>>(L%32))&255][0];w[K][1]^=F[C][(q[(K-C)&7][x]>>>(L%32))&255][1]}}for(K=0;K<8;K++){q[K][0]=w[K][0];q[K][1]=w[K][1]}}for(K=0;K<8;K++){m[K][0]^=q[K][0]^v[K][0];m[K][1]^=q[K][1]^v[K][1]}};O=Whirlpool=function(r){return O.init().add(r).finalize()};O.version="3.0";O.init=function(){for(var r=32;r-->0;){J[r]=0}y=u=0;I=[0];for(r=8;r-->0;){m[r]=[0,0]}return O};O.add=function(L){if(!L){return O}var r=new Uint8Array(L);var V=r.length*8;var t=0,x=(8-(V&7))&7,K=y&7,C,R,U,T=V;for(C=31,U=0;C>=0;C--){U+=(J[C]&255)+(T%256);J[C]=U&255;U>>>=8;T=Math.floor(T/256)}while(V>8){R=((r[t]<<x)&255)|((r[t+1]&255)>>>(8-x));if(R<0||R>=256){return"Whirlpool requires a byte array"}I[u++]|=R>>>K;y+=8-K;if(y==512){P();y=u=0;I=[]}I[u]=((R<<(8-K))&255);y+=K;V-=8;t++}if(V>0){R=(r[t]<<x)&255;I[u]|=R>>>K}else{R=0}if(K+V<8){y+=V}else{u++;y+=8-K;V-=8-K;if(y==512){P();y=u=0;I=[]}I[u]=((R<<(8-K))&255);y+=V}return O};O.finalize=function(){var t,r,x,K="",C=[];I[u]|=128>>>(y&7);u++;if(u>32){while(u<64){I[u++]=0}P();u=0;I=[]}while(u<32){I[u++]=0}I.push.apply(I,J);P();for(t=0,r=0;t<8;t++,r+=8){x=m[t][0];C[r]=x>>>24&255;C[r+1]=x>>>16&255;C[r+2]=x>>>8&255;C[r+3]=x&255;x=m[t][1];C[r+4]=x>>>24&255;C[r+5]=x>>>16&255;C[r+6]=x>>>8&255;C[r+7]=x&255}return new Uint8Array(C).buffer};function A(){var r=this;this.name="WHIRLPOOL";this.blockSize=64;this.digestSize=64;this.hash=function(t){return Whirlpool(t)};return this}p.set("hash.algorithms.whirlpool",A)})(a);(function(bd){var bi;var aW=244837814094590;var aJ=((aW&16777215)==15715070);function a5(bn,bm,bo){if(!(this instanceof a5)){return new a5(bn,bm,bo)}if(bn!=null){if("number"==typeof bn){this.fromNumber(bn,bm,bo)}else{if(bm==null&&"string"!=typeof bn){this.fromString(bn,256)}else{this.fromString(bn,bm)}}}}var bf=a5.prototype;function v(){return new a5(null)}function k(bq,bm,bn,bp,bs,br){while(--br>=0){var bo=bm*this[bq++]+bn[bp]+bs;bs=Math.floor(bo/67108864);bn[bp++]=bo&67108863}return bs}function bk(bq,bv,bw,bp,bt,bm){var bs=bv&32767,bu=bv>>15;while(--bm>=0){var bo=this[bq]&32767;var br=this[bq++]>>15;var bn=bu*bo+br*bs;bo=bs*bo+((bn&32767)<<15)+bw[bp]+(bt&1073741823);bt=(bo>>>30)+(bn>>>15)+bu*br+(bt>>>30);bw[bp++]=bo&1073741823}return bt}function bj(bq,bv,bw,bp,bt,bm){var bs=bv&16383,bu=bv>>14;while(--bm>=0){var bo=this[bq]&16383;var br=this[bq++]>>14;var bn=bu*bo+br*bs;bo=bs*bo+((bn&16383)<<14)+bw[bp]+bt;bt=(bo>>28)+(bn>>14)+bu*br;bw[bp++]=bo&268435455}return bt}a5.prototype.am=k;bi=26;a5.prototype.DB=bi;a5.prototype.DM=((1<<bi)-1);var at=a5.prototype.DV=(1<<bi);var aK=52;a5.prototype.FV=Math.pow(2,aK);a5.prototype.F1=aK-bi;a5.prototype.F2=2*bi-aK;var aS="0123456789abcdefghijklmnopqrstuvwxyz";var aV=new Array();var a3,K;a3="0".charCodeAt(0);for(K=0;K<=9;++K){aV[a3++]=K}a3="a".charCodeAt(0);for(K=10;K<36;++K){aV[a3++]=K}a3="A".charCodeAt(0);for(K=10;K<36;++K){aV[a3++]=K}function bl(bm){return aS.charAt(bm)}function U(bn,bm){var bo=aV[bn.charCodeAt(bm)];return(bo==null)?-1:bo}function aI(bn){for(var bm=this.t-1;bm>=0;--bm){bn[bm]=this[bm]}bn.t=this.t;bn.s=this.s}function E(bm){this.t=1;this.s=(bm<0)?-1:0;if(bm>0){this[0]=bm}else{if(bm<-1){this[0]=bm+at}else{this.t=0}}}function n(bm){var bn=v();bn.fromInt(bm);return bn}function N(bt,bn){var bq=this;var bp;if(bn==16){bp=4}else{if(bn==8){bp=3}else{if(bn==256){bp=8}else{if(bn==2){bp=1}else{if(bn==32){bp=5}else{if(bn==4){bp=2}else{bq.fromRadix(bt,bn);return}}}}}}bq.t=0;bq.s=0;var bs=bt.length,bo=false,br=0;while(--bs>=0){var bm=(bp==8)?bt[bs]&255:U(bt,bs);if(bm<0){if(bt.charAt(bs)=="-"){bo=true}continue}bo=false;if(br==0){bq[bq.t++]=bm}else{if(br+bp>bq.DB){bq[bq.t-1]|=(bm&((1<<(bq.DB-br))-1))<<br;bq[bq.t++]=(bm>>(bq.DB-br))}else{bq[bq.t-1]|=bm<<br}}br+=bp;if(br>=bq.DB){br-=bq.DB}}if(bp==8&&(bt[0]&128)!=0){bq.s=-1;if(br>0){bq[bq.t-1]|=((1<<(bq.DB-br))-1)<<br}}bq.clamp();if(bo){a5.ZERO.subTo(bq,bq)}}function an(){var bm=this.s&this.DM;while(this.t>0&&this[this.t-1]==bm){--this.t}}function G(bt){var bu=this;if(bu.s<0){return"-"+bu.negate().toString(bt)}var bq;if(bt==16){bq=4}else{if(bt==8){bq=3}else{if(bt==2){bq=1}else{if(bt==32){bq=5}else{if(bt==4){bq=2}else{return bu.toRadix(bt)}}}}}var bn=(1<<bq)-1,bs,bp=false,bm="",br=bu.t;var bo=bu.DB-(br*bu.DB)%bq;if(br-->0){if(bo<bu.DB&&(bs=bu[br]>>bo)>0){bp=true;bm=bl(bs)}while(br>=0){if(bo<bq){bs=(bu[br]&((1<<bo)-1))<<(bq-bo);bs|=bu[--br]>>(bo+=bu.DB-bq)}else{bs=(bu[br]>>(bo-=bq))&bn;if(bo<=0){bo+=bu.DB;--br}}if(bs>0){bp=true}if(bp){bm+=bl(bs)}}}return bp?bm:"0"}function ar(){var bm=v();a5.ZERO.subTo(this,bm);return bm}function aZ(){return(this.s<0)?this.negate():this}function ae(bm){var bo=this.s-bm.s;if(bo!=0){return bo}var bn=this.t;bo=bn-bm.t;if(bo!=0){return(this.s<0)?-bo:bo}while(--bn>=0){if((bo=this[bn]-bm[bn])!=0){return bo}}return 0}function A(bm){var bo=1,bn;if((bn=bm>>>16)!=0){bm=bn;bo+=16}if((bn=bm>>8)!=0){bm=bn;bo+=8}if((bn=bm>>4)!=0){bm=bn;bo+=4}if((bn=bm>>2)!=0){bm=bn;bo+=2}if((bn=bm>>1)!=0){bm=bn;bo+=1}return bo}function J(){if(this.t<=0){return 0}return this.DB*(this.t-1)+A(this[this.t-1]^(this.s&this.DM))}function a4(bo,bn){var bm;for(bm=this.t-1;bm>=0;--bm){bn[bm+bo]=this[bm]}for(bm=bo-1;bm>=0;--bm){bn[bm]=0}bn.t=this.t+bo;bn.s=this.s}function aH(bo,bn){for(var bm=bo;bm<this.t;++bm){bn[bm-bo]=this[bm]}bn.t=Math.max(this.t-bo,0);bn.s=this.s}function I(bp,bn){var bw=this;var bv=bp%bw.DB;var bt=bw.DB-bv;var bo=(1<<bt)-1;var bq=Math.floor(bp/bw.DB),bu=(bw.s<<bv)&bw.DM,br;for(br=bw.t-1;br>=0;--br){bn[br+bq+1]=(bw[br]>>bt)|bu;bu=(bw[br]&bo)<<bv}for(br=bq-1;br>=0;--br){bn[br]=0}bn[bq]=bu;bn.t=bw.t+bq+1;bn.s=bw.s;bn.clamp()}function B(bv,br){var bn=this;br.s=bn.s;var bt=Math.floor(bv/bn.DB);if(bt>=bn.t){br.t=0;return}var bp=bv%bn.DB;var bo=bn.DB-bp;var bu=(1<<bp)-1;br[0]=bn[bt]>>bp;for(var bq=bt+1;bq<bn.t;++bq){br[bq-bt-1]|=(bn[bq]&bu)<<bo;br[bq-bt]=bn[bq]>>bp}if(bp>0){br[bn.t-bt-1]|=(bn.s&bu)<<bo}br.t=bn.t-bt;br.clamp()}function aL(bn,bq){var bo=this;var bp=0,br=0,bm=Math.min(bn.t,bo.t);while(bp<bm){br+=bo[bp]-bn[bp];bq[bp++]=br&bo.DM;br>>=bo.DB}if(bn.t<bo.t){br-=bn.s;while(bp<bo.t){br+=bo[bp];bq[bp++]=br&bo.DM;br>>=bo.DB}br+=bo.s}else{br+=bo.s;while(bp<bn.t){br-=bn[bp];bq[bp++]=br&bo.DM;br>>=bo.DB}br-=bn.s}bq.s=(br<0)?-1:0;if(br<-1){bq[bp++]=bo.DV+br}else{if(br>0){bq[bp++]=br}}bq.t=bp;bq.clamp()}function Z(bn,bp){var bm=this.abs(),bq=bn.abs();var bo=bm.t;bp.t=bo+bq.t;while(--bo>=0){bp[bo]=0}for(bo=0;bo<bq.t;++bo){bp[bo+bm.t]=bm.am(0,bq[bo],bp,bo,0,bm.t)}bp.s=0;bp.clamp();if(this.s!=bn.s){a5.ZERO.subTo(bp,bp)}}function ap(bo){var bm=this.abs();var bn=bo.t=2*bm.t;while(--bn>=0){bo[bn]=0}for(bn=0;bn<bm.t-1;++bn){var bp=bm.am(bn,bm[bn],bo,2*bn,0,1);if((bo[bn+bm.t]+=bm.am(bn+1,2*bm[bn],bo,2*bn+1,bp,bm.t-bn-1))>=bm.DV){bo[bn+bm.t]-=bm.DV;bo[bn+bm.t+1]=1}}if(bo.t>0){bo[bo.t-1]+=bm.am(bn,bm[bn],bo,2*bn,0,1)}bo.s=0;bo.clamp()}function aa(bw,bt,br){var bs=this;var bC=bw.abs();if(bC.t<=0){return}var bu=bs.abs();if(bu.t<bC.t){if(bt!=null){bt.fromInt(0)}if(br!=null){bs.copyTo(br)}return}if(br==null){br=v()}var bp=v(),bm=bs.s,bv=bw.s;var bB=bs.DB-A(bC[bC.t-1]);if(bB>0){bC.lShiftTo(bB,bp);bu.lShiftTo(bB,br)}else{bC.copyTo(bp);bu.copyTo(br)}var bz=bp.t;var bn=bp[bz-1];if(bn==0){return}var bx=bn*(1<<bs.F1)+((bz>1)?bp[bz-2]>>bs.F2:0);var bF=bs.FV/bx,bE=(1<<bs.F1)/bx,bD=1<<bs.F2;var bA=br.t,by=bA-bz,bq=(bt==null)?v():bt;bp.dlShiftTo(by,bq);if(br.compareTo(bq)>=0){br[br.t++]=1;br.subTo(bq,br)}a5.ONE.dlShiftTo(bz,bq);bq.subTo(bp,bp);while(bp.t<bz){bp[bp.t++]=0}while(--by>=0){var bo=(br[--bA]==bn)?bs.DM:Math.floor(br[bA]*bF+(br[bA-1]+bD)*bE);if((br[bA]+=bp.am(0,bo,br,by,0,bz))<bo){bp.dlShiftTo(by,bq);br.subTo(bq,br);while(br[bA]<--bo){br.subTo(bq,br)}}}if(bt!=null){br.drShiftTo(bz,bt);if(bm!=bv){a5.ZERO.subTo(bt,bt)}}br.t=bz;br.clamp();if(bB>0){br.rShiftTo(bB,br)}if(bm<0){a5.ZERO.subTo(br,br)}}function am(bm){var bn=v();this.abs().divRemTo(bm,null,bn);if(this.s<0&&bn.compareTo(a5.ZERO)>0){bm.subTo(bn,bn)}return bn}function ai(bm){this.m=bm}function aD(bm){if(bm.s<0||bm.compareTo(this.m)>=0){return bm.mod(this.m)}else{return bm}}function aY(bm){return bm}function ag(bm){bm.divRemTo(this.m,null,bm)}function af(bm,bo,bn){bm.multiplyTo(bo,bn);this.reduce(bn)}function ba(bm,bn){bm.squareTo(bn);this.reduce(bn)}ai.prototype.convert=aD;ai.prototype.revert=aY;ai.prototype.reduce=ag;ai.prototype.mulTo=af;ai.prototype.sqrTo=ba;function W(){if(this.t<1){return 0}var bm=this[0];if((bm&1)==0){return 0}var bn=bm&3;bn=(bn*(2-(bm&15)*bn))&15;bn=(bn*(2-(bm&255)*bn))&255;bn=(bn*(2-(((bm&65535)*bn)&65535)))&65535;bn=(bn*(2-bm*bn%this.DV))%this.DV;return(bn>0)?this.DV-bn:-bn}function r(bm){this.m=bm;this.mp=bm.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(bm.DB-15))-1;this.mt2=2*bm.t}function aX(bm){var bn=v();bm.abs().dlShiftTo(this.m.t,bn);bn.divRemTo(this.m,null,bn);if(bm.s<0&&bn.compareTo(a5.ZERO)>0){this.m.subTo(bn,bn)}return bn}function a8(bm){var bn=v();bm.copyTo(bn);this.reduce(bn);return bn}function ao(bm){while(bm.t<=this.mt2){bm[bm.t++]=0}for(var bo=0;bo<this.m.t;++bo){var bn=bm[bo]&32767;var bp=(bn*this.mpl+(((bn*this.mph+(bm[bo]>>15)*this.mpl)&this.um)<<15))&bm.DM;bn=bo+this.m.t;bm[bn]+=this.m.am(0,bp,bm,bo,0,this.m.t);while(bm[bn]>=bm.DV){bm[bn]-=bm.DV;bm[++bn]++}}bm.clamp();bm.drShiftTo(this.m.t,bm);if(bm.compareTo(this.m)>=0){bm.subTo(this.m,bm)}}function a0(bm,bn){bm.squareTo(bn);this.reduce(bn)}function T(bm,bo,bn){bm.multiplyTo(bo,bn);this.reduce(bn)}r.prototype.convert=aX;r.prototype.revert=a8;r.prototype.reduce=ao;r.prototype.mulTo=T;r.prototype.sqrTo=a0;function w(){return((this.t>0)?(this[0]&1):this.s)==0}function O(br,bs){if(br>4294967295||br<1){return a5.ONE}var bq=v(),bm=v(),bp=bs.convert(this),bo=A(br)-1;bp.copyTo(bq);while(--bo>=0){bs.sqrTo(bq,bm);if((br&(1<<bo))>0){bs.mulTo(bm,bp,bq)}else{var bn=bq;bq=bm;bm=bn}}return bs.revert(bq)}function a2(bn,bm){var bo;if(bn<256||bm.isEven()){bo=new ai(bm)}else{bo=new r(bm)}return this.exp(bn,bo)}bf.copyTo=aI;bf.fromInt=E;bf.fromString=N;bf.clamp=an;bf.dlShiftTo=a4;bf.drShiftTo=aH;bf.lShiftTo=I;bf.rShiftTo=B;bf.subTo=aL;bf.multiplyTo=Z;bf.squareTo=ap;bf.divRemTo=aa;bf.invDigit=W;bf.isEven=w;bf.exp=O;bf.toString=G;bf.negate=ar;bf.abs=aZ;bf.compareTo=ae;bf.bitLength=J;bf.mod=am;bf.modPowInt=a2;function v(){return new a5(null)}function t(){var bm=v();this.copyTo(bm);return bm}function ac(){if(this.s<0){if(this.t==1){return this[0]-this.DV}else{if(this.t==0){return -1}}}else{if(this.t==1){return this[0]}else{if(this.t==0){return 0}}}return((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0]}function aT(){return(this.t==0)?this.s:(this[0]<<24)>>24}function aq(){return(this.t==0)?this.s:(this[0]<<16)>>16}function aG(bm){return Math.floor(Math.LN2*this.DB/Math.log(bm))}function a6(){if(this.s<0){return -1}else{if(this.t<=0||(this.t==1&&this[0]<=0)){return 0}else{return 1}}}function R(bm){if(bm==null){bm=10}if(this.signum()==0||bm<2||bm>36){return"0"}var bo=this.chunkSize(bm);var bn=Math.pow(bm,bo);var br=n(bn),bs=v(),bq=v(),bp="";this.divRemTo(br,bs,bq);while(bs.signum()>0){bp=(bn+bq.intValue()).toString(bm).substr(1)+bp;bs.divRemTo(br,bs,bq)}return bq.intValue().toString(bm)+bp}function ax(bv,br){var bu=this;bu.fromInt(0);if(br==null){br=10}var bp=bu.chunkSize(br);var bq=Math.pow(br,bp),bo=false,bm=0,bt=0;for(var bn=0;bn<bv.length;++bn){var bs=U(bv,bn);if(bs<0){if(bv.charAt(bn)=="-"&&bu.signum()==0){bo=true}continue}bt=br*bt+bs;if(++bm>=bp){bu.dMultiply(bq);bu.dAddOffset(bt,0);bm=0;bt=0}}if(bm>0){bu.dMultiply(Math.pow(br,bm));bu.dAddOffset(bt,0)}if(bo){a5.ZERO.subTo(bu,bu)}}function aQ(bo,bn,br){var bp=this;if("number"==typeof bn){if(bo<2){bp.fromInt(1)}else{bp.fromNumber(bo,br);if(!bp.testBit(bo-1)){bp.bitwiseTo(a5.ONE.shiftLeft(bo-1),aj,bp)}if(bp.isEven()){bp.dAddOffset(1,0)}while(!bp.isProbablePrime(bn)){bp.dAddOffset(2,0);if(bp.bitLength()>bo){bp.subTo(a5.ONE.shiftLeft(bo-1),bp)}}}}else{var bm=new Array(),bq=bo&7;bm.length=(bo>>3)+1;bn.nextBytes(bm);if(bq>0){bm[0]&=((1<<bq)-1)}else{bm[0]=0}bp.fromString(bm,256)}}function be(){var bn=this;var bo=bn.t,bp=new Array();bp[0]=bn.s;var bq=bn.DB-(bo*bn.DB)%8,br,bm=0;if(bo-->0){if(bq<bn.DB&&(br=bn[bo]>>bq)!=(bn.s&bn.DM)>>bq){bp[bm++]=br|(bn.s<<(bn.DB-bq))}while(bo>=0){if(bq<8){br=(bn[bo]&((1<<bq)-1))<<(8-bq);br|=bn[--bo]>>(bq+=bn.DB-8)}else{br=(bn[bo]>>(bq-=8))&255;if(bq<=0){bq+=bn.DB;--bo}}if((br&128)!=0){br|=-256}if(bm===0&&(bn.s&128)!=(br&128)){++bm}if(bm>0||br!=bn.s){bp[bm++]=br}}}return bp}function av(bm){return(this.compareTo(bm)==0)}function ad(bm){return(this.compareTo(bm)<0)?this:bm}function aB(bm){return(this.compareTo(bm)>0)?this:bm}function aR(bn,bs,bq){var bo=this;var bp,br,bm=Math.min(bn.t,bo.t);for(bp=0;bp<bm;++bp){bq[bp]=bs(bo[bp],bn[bp])}if(bn.t<bo.t){br=bn.s&bo.DM;for(bp=bm;bp<bo.t;++bp){bq[bp]=bs(bo[bp],br)}bq.t=bo.t}else{br=bo.s&bo.DM;for(bp=bm;bp<bn.t;++bp){bq[bp]=bs(br,bn[bp])}bq.t=bn.t}bq.s=bs(bo.s,bn.s);bq.clamp()}function S(bm,bn){return bm&bn}function bh(bm){var bn=v();this.bitwiseTo(bm,S,bn);return bn}function aj(bm,bn){return bm|bn}function aF(bm){var bn=v();this.bitwiseTo(bm,aj,bn);return bn}function X(bm,bn){return bm^bn}function p(bm){var bn=v();this.bitwiseTo(bm,X,bn);return bn}function L(bm,bn){return bm&~bn}function C(bm){var bn=v();this.bitwiseTo(bm,L,bn);return bn}function Y(){var bn=v();for(var bm=0;bm<this.t;++bm){bn[bm]=this.DM&~this[bm]}bn.t=this.t;bn.s=~this.s;return bn}function M(bn){var bm=v();if(bn<0){this.rShiftTo(-bn,bm)}else{this.lShiftTo(bn,bm)}return bm}function bg(bn){var bm=v();if(bn<0){this.lShiftTo(-bn,bm)}else{this.rShiftTo(bn,bm)}return bm}function y(bm){if(bm==0){return -1}var bn=0;if((bm&65535)==0){bm>>=16;bn+=16}if((bm&255)==0){bm>>=8;bn+=8}if((bm&15)==0){bm>>=4;bn+=4}if((bm&3)==0){bm>>=2;bn+=2}if((bm&1)==0){++bn}return bn}function F(){for(var bm=0;bm<this.t;++bm){if(this[bm]!=0){return bm*this.DB+y(this[bm])}}if(this.s<0){return this.t*this.DB}return -1}function a1(bm){var bn=0;while(bm!=0){bm&=bm-1;++bn}return bn}function aP(){var bo=0,bm=this.s&this.DM;for(var bn=0;bn<this.t;++bn){bo+=a1(this[bn]^bm)}return bo}function aN(bn){var bm=Math.floor(bn/this.DB);if(bm>=this.t){return(this.s!=0)}return((this[bm]&(1<<(bn%this.DB)))!=0)}function ab(bo,bn){var bm=a5.ONE.shiftLeft(bo);this.bitwiseTo(bm,bn,bm);return bm}function V(bm){return this.changeBit(bm,aj)}function D(bm){return this.changeBit(bm,L)}function m(bm){return this.changeBit(bm,X)}function ay(bn,bq){var bo=this;var bp=0,br=0,bm=Math.min(bn.t,bo.t);while(bp<bm){br+=bo[bp]+bn[bp];bq[bp++]=br&bo.DM;br>>=bo.DB}if(bn.t<bo.t){br+=bn.s;while(bp<bo.t){br+=bo[bp];bq[bp++]=br&bo.DM;br>>=bo.DB}br+=bo.s}else{br+=bo.s;while(bp<bn.t){br+=bn[bp];bq[bp++]=br&bo.DM;br>>=bo.DB}br+=bn.s}bq.s=(br<0)?-1:0;if(br>0){bq[bp++]=br}else{if(br<-1){bq[bp++]=bo.DV+br}}bq.t=bp;bq.clamp()}function aA(bm){var bn=v();this.addTo(bm,bn);return bn}function a7(bm){var bn=v();this.subTo(bm,bn);return bn}function au(bm){var bn=v();this.multiplyTo(bm,bn);return bn}function aM(){var bm=v();this.squareTo(bm);return bm}function o(bm){var bn=v();this.divRemTo(bm,bn,null);return bn}function s(bm){var bn=v();this.divRemTo(bm,null,bn);return bn}function aO(bm){var bo=v(),bn=v();this.divRemTo(bm,bo,bn);return new Array(bo,bn)}function x(bm){this[this.t]=this.am(0,bm-1,this,0,0,this.t);++this.t;this.clamp()}function al(bn,bm){if(bn==0){return}while(this.t<=bm){this[this.t++]=0}this[bm]+=bn;while(this[bm]>=this.DV){this[bm]-=this.DV;if(++bm>=this.t){this[this.t++]=0}++this[bm]}}function az(){}function aU(bm){return bm}function z(bm,bo,bn){bm.multiplyTo(bo,bn)}function aE(bm,bn){bm.squareTo(bn)}az.prototype.convert=aU;az.prototype.revert=aU;az.prototype.mulTo=z;az.prototype.sqrTo=aE;function P(bm){return this.exp(bm,new az())}function u(bm,bq,bp){var bo=Math.min(this.t+bm.t,bq);bp.s=0;bp.t=bo;while(bo>0){bp[--bo]=0}var bn;for(bn=bp.t-this.t;bo<bn;++bo){bp[bo+this.t]=this.am(0,bm[bo],bp,bo,0,this.t)}for(bn=Math.min(bm.t,bq);bo<bn;++bo){this.am(0,bm[bo],bp,bo,0,bq-bo)}bp.clamp()}function q(bm,bp,bo){--bp;var bn=bo.t=this.t+bm.t-bp;bo.s=0;while(--bn>=0){bo[bn]=0}for(bn=Math.max(bp-this.t,0);bn<bm.t;++bn){bo[this.t+bn-bp]=this.am(bp-bn,bm[bn],bo,0,0,this.t+bn-bp)}bo.clamp();bo.drShiftTo(1,bo)}function Q(bm){this.r2=v();this.q3=v();a5.ONE.dlShiftTo(2*bm.t,this.r2);this.mu=this.r2.divide(bm);this.m=bm}function ah(bm){if(bm.s<0||bm.t>2*this.m.t){return bm.mod(this.m)}else{if(bm.compareTo(this.m)<0){return bm}else{var bn=v();bm.copyTo(bn);this.reduce(bn);return bn}}}function ak(bm){return bm}function bb(bm){var bn=this;bm.drShiftTo(bn.m.t-1,bn.r2);if(bm.t>bn.m.t+1){bm.t=bn.m.t+1;bm.clamp()}bn.mu.multiplyUpperTo(bn.r2,bn.m.t+1,bn.q3);bn.m.multiplyLowerTo(bn.q3,bn.m.t+1,bn.r2);while(bm.compareTo(bn.r2)<0){bm.dAddOffset(1,bn.m.t+1)}bm.subTo(bn.r2,bm);while(bm.compareTo(bn.m)>=0){bm.subTo(bn.m,bm)}}function aw(bm,bn){bm.squareTo(bn);this.reduce(bn)}function bc(bm,bo,bn){bm.multiplyTo(bo,bn);this.reduce(bn)}Q.prototype.convert=ah;Q.prototype.revert=ak;Q.prototype.reduce=bb;Q.prototype.mulTo=bc;Q.prototype.sqrTo=aw;function aC(bv,bq){var bt=bv.bitLength(),br,bn=n(1),by;if(bt<=0){return bn}else{if(bt<18){br=1}else{if(bt<48){br=3}else{if(bt<144){br=4}else{if(bt<768){br=5}else{br=6}}}}}if(bt<8){by=new ai(bq)}else{if(bq.isEven()){by=new Q(bq)}else{by=new r(bq)}}var bu=new Array(),bp=3,bw=br-1,bm=(1<<br)-1;bu[1]=by.convert(this);if(br>1){var bB=v();by.sqrTo(bu[1],bB);while(bp<=bm){bu[bp]=v();by.mulTo(bB,bu[bp-2],bu[bp]);bp+=2}}var bs=bv.t-1,bz,bx=true,bo=v(),bA;bt=A(bv[bs])-1;while(bs>=0){if(bt>=bw){bz=(bv[bs]>>(bt-bw))&bm}else{bz=(bv[bs]&((1<<(bt+1))-1))<<(bw-bt);if(bs>0){bz|=bv[bs-1]>>(this.DB+bt-bw)}}bp=br;while((bz&1)==0){bz>>=1;--bp}if((bt-=bp)<0){bt+=this.DB;--bs}if(bx){bu[bz].copyTo(bn);bx=false}else{while(bp>1){by.sqrTo(bn,bo);by.sqrTo(bo,bn);bp-=2}if(bp>0){by.sqrTo(bn,bo)}else{bA=bn;bn=bo;bo=bA}by.mulTo(bo,bu[bz],bn)}while(bs>=0&&(bv[bs]&(1<<bt))==0){by.sqrTo(bn,bo);bA=bn;bn=bo;bo=bA;if(--bt<0){bt=this.DB-1;--bs}}}return by.revert(bn)}function a9(bn){var bm=(this.s<0)?this.negate():this.clone();var br=(bn.s<0)?bn.negate():bn.clone();if(bm.compareTo(br)<0){var bp=bm;bm=br;br=bp}var bo=bm.getLowestSetBit(),bq=br.getLowestSetBit();if(bq<0){return bm}if(bo<bq){bq=bo}if(bq>0){bm.rShiftTo(bq,bm);br.rShiftTo(bq,br)}while(bm.signum()>0){if((bo=bm.getLowestSetBit())>0){bm.rShiftTo(bo,bm)}if((bo=br.getLowestSetBit())>0){br.rShiftTo(bo,br)}if(bm.compareTo(br)>=0){bm.subTo(br,bm);bm.rShiftTo(1,bm)}else{br.subTo(bm,br);br.rShiftTo(1,br)}}if(bq>0){br.lShiftTo(bq,br)}return br}function H(bp){if(bp<=0){return 0}var bo=this.DV%bp,bn=(this.s<0)?bp-1:0;if(this.t>0){if(bo==0){bn=this[0]%bp}else{for(var bm=this.t-1;bm>=0;--bm){bn=(bo*bn+this[bm])%bp}}}return bn}function l(bn){var br=bn.isEven();if((this.isEven()&&br)||bn.signum()==0){return a5.ZERO}var bq=bn.clone(),bp=this.clone();var bo=n(1),bm=n(0),bt=n(0),bs=n(1);while(bq.signum()!=0){while(bq.isEven()){bq.rShiftTo(1,bq);if(br){if(!bo.isEven()||!bm.isEven()){bo.addTo(this,bo);bm.subTo(bn,bm)}bo.rShiftTo(1,bo)}else{if(!bm.isEven()){bm.subTo(bn,bm)}}bm.rShiftTo(1,bm)}while(bp.isEven()){bp.rShiftTo(1,bp);if(br){if(!bt.isEven()||!bs.isEven()){bt.addTo(this,bt);bs.subTo(bn,bs)}bt.rShiftTo(1,bt)}else{if(!bs.isEven()){bs.subTo(bn,bs)}}bs.rShiftTo(1,bs)}if(bq.compareTo(bp)>=0){bq.subTo(bp,bq);if(br){bo.subTo(bt,bo)}bm.subTo(bs,bm)}else{bp.subTo(bq,bp);if(br){bt.subTo(bo,bt)}bs.subTo(bm,bs)}}if(bp.compareTo(a5.ONE)!=0){return a5.ZERO}if(bs.compareTo(bn)>=0){return bs.subtract(bn)}if(bs.signum()<0){bs.addTo(bn,bs)}else{return bs}if(bs.signum()<0){return bs.add(bn)}else{return bs}}bf.chunkSize=aG;bf.toRadix=R;bf.fromRadix=ax;bf.fromNumber=aQ;bf.bitwiseTo=aR;bf.changeBit=ab;bf.addTo=ay;bf.dMultiply=x;bf.dAddOffset=al;bf.multiplyLowerTo=u;bf.multiplyUpperTo=q;bf.modInt=H;bf.clone=t;bf.intValue=ac;bf.byteValue=aT;bf.shortValue=aq;bf.signum=a6;bf.toByteArray=be;bf.equals=av;bf.min=ad;bf.max=aB;bf.and=bh;bf.or=aF;bf.xor=p;bf.andNot=C;bf.not=Y;bf.shiftLeft=M;bf.shiftRight=bg;bf.getLowestSetBit=F;bf.bitCount=aP;bf.testBit=aN;bf.setBit=V;bf.clearBit=D;bf.flipBit=m;bf.add=aA;bf.subtract=a7;bf.multiply=au;bf.divide=o;bf.remainder=s;bf.divideAndRemainder=aO;bf.modPow=aC;bf.modInverse=l;bf.pow=P;bf.gcd=a9;bf.square=aM;a5.ZERO=n(0);a5.ONE=n(1);a5.valueOf=n;a5.fromByteArrayUnsigned=function(bm){if(!bm.length){return new a5.valueOf(0)}else{if(bm[0]&128){return new a5([0].concat(bm))}else{return new a5(bm)}}};a5.fromByteArraySigned=function(bm){if(bm[0]&128){bm[0]&=127;return a5.fromByteArrayUnsigned(bm).negate()}else{return a5.fromByteArrayUnsigned(bm)}};a5.prototype.toByteArrayUnsigned=function(){var bn=this.abs().toByteArray();if(!bn.length){return bn}if(bn[0]===0){bn=bn.slice(1)}for(var bm=0;bm<bn.length;++bm){bn[bm]=(bn[bm]<0)?bn[bm]+256:bn[bm]}return bn};a5.prototype.toByteArraySigned=function(){var bm=this.toByteArrayUnsigned();var bn=this.s<0;if(bm[0]&128){bm.unshift((bn)?128:0)}else{if(bn){bm[0]|=128}}return bm};bd.set("cipher.asymmetric.ec.bigi",a5)})(a);(function(l){function k(q,p){var m=q.ECPointFp;function n(x,t,w,s){var r=Math.max(t.bitLength(),s.bitLength());var y=x.add2D(w);var v=x.curve.getInfinity();for(var u=r-1;u>=0;--u){v=v.twice2D();v.z=p.ONE;if(t.testBit(u)){if(s.testBit(u)){v=v.add2D(y)}else{v=v.add2D(x)}}else{if(s.testBit(u)){v=v.add2D(w)}}}return v}function o(y){var A=this;var z=null;var x=new l.get("util.srand")();var r={nextBytes:function(B){var D=x.bytes(B.length);for(var C=0;C<D.length;++C){B[C]=D[C]}}};this.sign=function(E,K){var I=K;var C=y.getN();var H=p.fromByteArrayUnsigned(E);var D=v(C);var J=y.getG();var F=J.multiply(D);var B=F.getX().toBigInteger().mod(C);var L=D.modInverse(C).multiply(H.add(I.multiply(B))).mod(C);if(L.compareTo(C.divide(p.valueOf(2)))>0){L=C.subtract(L)}return s(B,L)};this.verify=function(H,I,C){var E,B;if(Array.isArray(I)){var G=u(I);E=G.r;B=G.s}else{throw new Error("Invalid value for signature")}var D;if(C instanceof m){D=C}else{if(Array.isArray(C)){D=m.decodeFrom(y.getCurve(),C)}else{throw new Error("Invalid format for pubkey value, must be byte array or ECPointFp")}}var F=p.fromByteArrayUnsigned(H);return w(F,E,B,D)};function w(H,B,M,F){var E=y.getN();var L=y.getG();if(B.compareTo(p.ONE)<0||B.compareTo(E)>=0){return false}if(M.compareTo(p.ONE)<0||M.compareTo(E)>=0){return false}var I=M.modInverse(E);var D=H.multiply(I).mod(E);var C=B.multiply(I).mod(E);var J=L.multiply(D).add(F.multiply(C));var K=J.getX().toBigInteger().mod(E);return K.equals(B)}function t(E){if(E.length!==65){throw new Error("Signature has the wrong length")}var B=E[0]-27;if(B<0||B>7){throw new Error("Invalid signature type")}var F=y.getN();var D=p.fromByteArrayUnsigned(E.slice(1,33)).mod(F);var C=p.fromByteArrayUnsigned(E.slice(33,65)).mod(F);return{r:D,s:C,i:B}}function v(B){return new p(B.bitLength(),r).mod(B.subtract(p.ONE)).add(p.ONE)}function s(D,C){var E=D.toByteArraySigned();var B=C.toByteArraySigned();var F=[];F.push(2);F.push(E.length);F=F.concat(E);F.push(2);F.push(B.length);F=F.concat(B);F.unshift(F.length);F.unshift(48);return F}function u(G){var F;if(G[0]!=48){throw new Error("Signature not a valid DERSequence")}F=2;if(G[F]!=2){throw new Error("First element in signature must be a DERInteger")}var E=G.slice(F+2,F+2+G[F+1]);F+=2+G[F+1];if(G[F]!=2){throw new Error("Second element in signature must be a DERInteger")}var B=G.slice(F+2,F+2+G[F+1]);F+=2+G[F+1];var D=p.fromByteArrayUnsigned(E);var C=p.fromByteArrayUnsigned(B);return{r:D,s:C}}return this}return o}l.set("cipher.asymmetric.ec.ecdsa",function(n){var m=k(l.get("cipher.asymmetric.ec.ecurve"),l.get("cipher.asymmetric.ec.bigi"));return new m(n)})})(a);(function(k){function l(s){var w=this;var r=k.get("cipher.asymmetric.ec.ecparams"),o=k.get("cipher.asymmetric.ec.ecdsa"),t=k.get("cipher.asymmetric.ec.ecurve"),q=k.get("cipher.asymmetric.ec.bigi");var D=null,C=null;var E=r(s);if(!E){throw Error("unknown-ec-curve-name")}var v=o(E);function z(H){var I=new Array(H.length);for(var G=0;G<I.length;G++){I[G]=H[G]}return I}this.setPrivateKey=function(G){B(k.get("util.encoding")(G).toArray())};this.setPublicKey=function(G){y(k.get("util.encoding")(G).toArray())};function A(G){if(G){w.sign=F;w.decrypt=p;w._computeSecret=u}w.verify=n;w.encrypt=x;w.getPublicKey=function(){return new Uint8Array(C).buffer};delete w.setPrivateKey;delete w.setPublicKey}function y(G){D=null;C=G;A(false)}function B(H){D=q.fromByteArrayUnsigned(H);var G=E.getG().multiply(D);C=G.getEncoded(false);A(true)}function F(H){if(!k.get("util.type")(H).isArrayBuffer()){throw new Error("invalid-parameter")}var G=v.sign(k.get("util.encoding")(H).toArray(),D);return k.get("util.encoding")(G).toArrayBuffer()}function n(H,J){if(!(k.get("util.type")(H).isArrayBuffer()&&k.get("util.type")(J).isArrayBuffer())){throw new Error("invalid-parameter")}try{var K=k.get("util.encoding")(J).toArray(),L=k.get("util.encoding")(H).toArray();var G=v.verify(L,K,C)}catch(I){console.log(I);return false}return G}function u(H){if(!k.get("util.type")(H).isArrayBuffer()){throw Error("invalid-parameter")}var G=k.get("util.encoding")(H).toArray();var J=t.ECPointFp.decodeFrom(E.getCurve(),G);var I=J.multiply(D);var K=I.getEncoded().slice(1);return k.get("util.encoding")(K).toArrayBuffer()}function x(J){if(!k.get("util.type")(J).isArrayBuffer()){throw new Error("invalid-parameter")}var I=new l(s);I.setPrivateKey(new k.get("util.srand")().bytes(64));var M=I._computeSecret(w.getPublicKey()),L=I.getPublicKey();var G=new k.get("cipher.symmetric")().key(M),K=G.encrypt(J);var H=new Uint16Array([L.byteLength]);return k.get("util.buffer").concat([H.buffer,L,K])}function p(K){if(!(k.get("util.type")(K).isArrayBuffer()&&K.byteLength>2)){throw new Error("invalid-parameter")}var G=K.slice(0,2),K=K.slice(2);var I=new Uint16Array(G)[0];if(K.length<=I){throw new Error("invalid-ciphertext")}var N=K.slice(0,I),L=K.slice(I);var M=u(N);var J=new k.get("cipher.symmetric")().key(M);var H=J.decrypt(L);return H}return this}var m={name:"EC",constructor:function(n){return new l(n.curve)}};k.set("cipher.asymmetric.ec",m)})(a);(function(s){var m,k;"use strict";function u(x,w,y,v){this.curve=x;this.g=w;this.n=y;this.h=v}u.prototype.getCurve=function t(){return this.curve};u.prototype.getG=function r(){return this.g};u.prototype.getN=function n(){return this.n};u.prototype.getH=function p(){return this.h};function q(v){v=v.replace(/[^0-9a-f]/ig,"").toUpperCase();return new m(v,16)}var o={secp128r1:function(){var z=q("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF");var w=q("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC");var v=q("E87579C11079F43DD824993C2CEE5ED3");var B=q("FFFFFFFE0000000075A30D1B9038A115");var y=m.ONE;var A=new k(z,w,v);var x=A.decodePointHex("04161FF7528B899B2D0C28607CA52C5B86CF5AC8395BAFEB13C02DA292DDED7A83");return new u(A,x,B,y)},secp160k1:function(){var z=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73");var w=m.ZERO;var v=q("7");var B=q("0100000000000000000001B8FA16DFAB9ACA16B6B3");var y=m.ONE;var A=new k(z,w,v);var x=A.decodePointHex("043B4C382CE37AA192A4019E763036F4F5DD4D7EBB938CF935318FDCED6BC28286531733C3F03C4FEE");return new u(A,x,B,y)},secp160r1:function(){var z=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF");var w=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC");var v=q("1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45");var B=q("0100000000000000000001F4C8F927AED3CA752257");var y=m.ONE;var A=new k(z,w,v);var x=A.decodePointHex("044A96B5688EF573284664698968C38BB913CBFC8223A628553168947D59DCC912042351377AC5FB32");return new u(A,x,B,y)},secp192k1:function(){var z=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37");var w=m.ZERO;var v=q("3");var B=q("FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D");var y=m.ONE;var A=new k(z,w,v);var x=A.decodePointHex("04DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D");return new u(A,x,B,y)},secp192r1:function(){var z=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF");var w=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC");var v=q("64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1");var B=q("FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831");var y=m.ONE;var A=new k(z,w,v);var x=A.decodePointHex("04188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF101207192B95FFC8DA78631011ED6B24CDD573F977A11E794811");return new u(A,x,B,y)},secp224r1:function(){var z=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001");var w=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE");var v=q("B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4");var B=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D");var y=m.ONE;var A=new k(z,w,v);var x=A.decodePointHex("04B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34");return new u(A,x,B,y)},secp256k1:function(){var z=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F");var w=m.ZERO;var v=q("7");var B=q("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");var y=m.ONE;var A=new k(z,w,v);var x=A.decodePointHex("0479BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8");return new u(A,x,B,y)},secp256r1:function(){var z=q("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF");var w=q("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC");var v=q("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B");var B=q("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551");var y=m.ONE;var A=new k(z,w,v);var x=A.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5");return new u(A,x,B,y)},secp384r1:function(){var z=q("FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFe FFFFFFFF 00000000 00000000 FFFFFFFF");var w=q("FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFe FFFFFFFF 00000000 00000000 FFFFFFFC");var v=q("B3312FA7 E23EE7E4 988E056B E3F82D19 181D9C6E FE814112 0314088F 5013875A C656398D 8A2ED19D 2A85C8ED D3EC2AEF");var B=q("FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF C7634D81 F4372DDF 581A0DB2 48B0A77A ECEC196A CCC52973");var y=m.ONE;var A=new k(z,w,v);var x=A.decodePointHex("04AA87CA22 BE8B0537 8EB1C71E F320AD74 6E1D3B62 8BA79B98 59F741E0 82542A38 5502F25D BF55296C 3A545E38 72760AB73617DE4A 96262C6F 5D9E98BF 9292DC29 F8F41DBD 289A147C E9DA3113 B5F0B8C0 0A60B1CE 1D7E819D 7A431D7C 90EA0E5F");return new u(A,x,B,y)},secp521r1:function(){var z=q("    01FF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF");var w=q("    01FF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFC");var v=q("    0051 953EB961 8E1C9A1F 929A21A0 B68540EE A2DA725B 99B315F3B8B48991 8EF109E1 56193951 EC7E937B 1652C0BD 3BB1BF07 3573DF883D2C34F1 EF451FD4 6B503F00");var B=q("    01FF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFA 51868783 BF2F966B 7FCC0148 F709A5D0 3BB5C9B8899C47AE BB6FB71E 91386409");var y=m.ONE;var A=new k(z,w,v);var x=A.decodePointHex("      04 00C6858E 06B70404 E9CD9E3E CB662395 B4429C64 8139053FB521F828 AF606B4D 3DBAA14B 5E77EFE7 5928FE1D C127A2FF A8DE3348B3C1856A 429BF97E 7E31C2E5 BD660118 39296A78 9A3BC004 5C8A5FB42C7D1BD9 98F54449 579B4468 17AFBD17 273E662C 97EE7299 5EF42640C550B901 3FAD0761 353C7086 A272C240 88BE9476 9FD16650");return new u(A,x,B,y)}};s.set("cipher.asymmetric.ec.ecparams",function l(v){if(!m){m=s.get("cipher.asymmetric.ec.bigi"),k=s.get("cipher.asymmetric.ec.ecurve")}return(typeof o[v]=="function")?o[v]():null})})(a);"use strict";(function(k){var q;function o(t,r){var s=t.toByteArrayUnsigned();if(r<s.length){s=s.slice(s.length-r)}else{while(r>s.length){s.unshift(0)}}return s}var n=function n(s,r){this.x=r;this.q=s};n.prototype.equals=function(r){if(r==this){return true}return(this.q.equals(r.q)&&this.x.equals(r.x))};n.prototype.toBigInteger=function(){return this.x};n.prototype.negate=function(){return new n(this.q,this.x.negate().mod(this.q))};n.prototype.add=function(r){return new n(this.q,this.x.add(r.toBigInteger()).mod(this.q))};n.prototype.subtract=function(r){return new n(this.q,this.x.subtract(r.toBigInteger()).mod(this.q))};n.prototype.multiply=function(r){return new n(this.q,this.x.multiply(r.toBigInteger()).mod(this.q))};n.prototype.square=function(){return new n(this.q,this.x.square().mod(this.q))};n.prototype.divide=function l(r){return new n(this.q,this.x.multiply(r.toBigInteger().modInverse(this.q)).mod(this.q))};n.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)};var m=function m(t,r,u,s){if(!q){q=k.get("cipher.asymmetric.ec.bigi")}this.curve=t;this.x=r;this.y=u;if(s==null){this.z=q.ONE}else{this.z=s}this.zinv=null};m.prototype.getX=function(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))};m.prototype.getY=function(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))};m.prototype.equals=function(r){if(r==this){return true}if(this.isInfinity()){return r.isInfinity()}if(r.isInfinity()){return this.isInfinity()}var t,s;t=r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q);if(!t.equals(q.ZERO)){return false}s=r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q);return s.equals(q.ZERO)};m.prototype.isInfinity=function(){if((this.x==null)&&(this.y==null)){return true}return this.z.equals(q.ZERO)&&!this.y.toBigInteger().equals(q.ZERO)};m.prototype.negate=function(){return new m(this.curve,this.x,this.y.negate(),this.z)};m.prototype.add=function(D){if(this.isInfinity()){return D}if(D.isInfinity()){return this}var H=D.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(D.z)).mod(this.curve.q);var G=D.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(D.z)).mod(this.curve.q);if(q.ZERO.equals(G)){if(q.ZERO.equals(H)){return this.twice()}return this.curve.getInfinity()}var B=new q("3");var w=this.x.toBigInteger();var F=this.y.toBigInteger();var s=D.x.toBigInteger();var C=D.y.toBigInteger();var E=G.square();var A=E.multiply(G);var t=w.multiply(E);var y=H.square().multiply(this.z);var r=y.subtract(t.shiftLeft(1)).multiply(D.z).subtract(A).multiply(G).mod(this.curve.q);var z=t.multiply(B).multiply(H).subtract(F.multiply(A)).subtract(y.multiply(H)).multiply(D.z).add(H.multiply(A)).mod(this.curve.q);var x=A.multiply(this.z).multiply(D.z).mod(this.curve.q);return new m(this.curve,this.curve.fromBigInteger(r),this.curve.fromBigInteger(z),x)};m.prototype.twice=function(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var x=new q("3");var s=this.x.toBigInteger();var y=this.y.toBigInteger();var u=y.multiply(this.z);var A=u.multiply(y).mod(this.curve.q);var z=this.curve.a.toBigInteger();var B=s.square().multiply(x);if(!q.ZERO.equals(z)){B=B.add(this.z.square().multiply(z))}B=B.mod(this.curve.q);var r=B.square().subtract(s.shiftLeft(3).multiply(A)).shiftLeft(1).multiply(u).mod(this.curve.q);var v=B.multiply(x).multiply(s).subtract(A.shiftLeft(1)).shiftLeft(2).multiply(A).subtract(B.square().multiply(B)).mod(this.curve.q);var t=u.square().multiply(u).shiftLeft(3).mod(this.curve.q);return new m(this.curve,this.curve.fromBigInteger(r),this.curve.fromBigInteger(v),t)};m.prototype.multiply=function(s){if(this.isInfinity()){return this}if(s.signum()==0){return this.curve.getInfinity()}var w=s;var v=w.multiply(new q("3"));var y=this.negate();var u=this;var t;for(t=v.bitLength()-2;t>0;--t){u=u.twice();var r=v.testBit(t);var x=w.testBit(t);if(r!=x){u=u.add(r?this:y)}}return u};m.prototype.multiplyTwo=function(t,r,s){var u;if(t.bitLength()>s.bitLength()){u=t.bitLength()-1}else{u=s.bitLength()-1}var w=this.curve.getInfinity();var v=this.add(r);while(u>=0){w=w.twice();if(t.testBit(u)){if(s.testBit(u)){w=w.add(v)}else{w=w.add(this)}}else{if(s.testBit(u)){w=w.add(r)}}--u}return w};m.prototype.getEncoded=function(u){if(this.isInfinity()){return[0]}var r=this.getX().toBigInteger();var v=this.getY().toBigInteger();var t=Math.floor((this.curve.getQ().bitLength()+7)/8);var s=o(r,t);if(u){if(v.isEven()){s.unshift(2)}else{s.unshift(3)}}else{s.unshift(4);s=s.concat(o(v,t))}return s};m.decodeFrom=function(z,t){var w=t[0];var v=t.length-1;var u=t.slice(1,1+v/2);var s=t.slice(1+v/2,1+v);u.unshift(0);s.unshift(0);var r=new q(u);var A=new q(s);return new m(z,z.fromBigInteger(r),z.fromBigInteger(A))};m.prototype.add2D=function(s){if(this.isInfinity()){return s}if(s.isInfinity()){return this}if(this.x.equals(s.x)){if(this.y.equals(s.y)){return this.twice()}return this.curve.getInfinity()}var w=s.x.subtract(this.x);var u=s.y.subtract(this.y);var r=u.divide(w);var t=r.square().subtract(this.x).subtract(s.x);var v=r.multiply(this.x.subtract(t)).subtract(this.y);return new m(this.curve,t,v)};m.prototype.twice2D=function(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var s=this.curve.fromBigInteger(q.valueOf(2));var v=this.curve.fromBigInteger(q.valueOf(3));var r=this.x.square().multiply(v).add(this.curve.a).divide(this.y.multiply(s));var t=r.square().subtract(this.x.multiply(s));var u=r.multiply(this.x.subtract(t)).subtract(this.y);return new m(this.curve,t,u)};m.prototype.multiply2D=function(s){if(this.isInfinity()){return this}if(s.signum()==0){return this.curve.getInfinity()}var w=s;var v=w.multiply(new q("3"));var y=this.negate();var u=this;var t;for(t=v.bitLength()-2;t>0;--t){u=u.twice();var r=v.testBit(t);var x=w.testBit(t);if(r!=x){u=u.add2D(r?this:y)}}return u};m.prototype.isOnCurve=function(){if(this.isInfinity()){return true}var s=this.getX().toBigInteger();var z=this.getY().toBigInteger();var u=this.curve.getA().toBigInteger();var r=this.curve.getB().toBigInteger();var w=this.curve.getQ();var t=z.multiply(z).mod(w);var v=s.multiply(s).multiply(s).add(u.multiply(s)).add(r).mod(w);return t.equals(v)};m.prototype.toString=function(){if(this.isInfinity()){return"(INFINITY)"}return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"};m.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity()){throw new Error("Point is at infinity.")}var r=this.getX().toBigInteger();var s=this.getY().toBigInteger();if(r.compareTo(q.ONE)<0||r.compareTo(t.subtract(q.ONE))>0){throw new Error("x coordinate out of bounds")}if(s.compareTo(q.ONE)<0||s.compareTo(t.subtract(q.ONE))>0){throw new Error("y coordinate out of bounds")}if(!this.isOnCurve()){throw new Error("Point is not on the curve.")}if(this.multiply(t).isInfinity()){throw new Error("Point is not a scalar multiple of G.")}return true};var p=function p(t,s,r){this.q=t;this.a=this.fromBigInteger(s);this.b=this.fromBigInteger(r);this.infinity=new m(this,null,null)};p.prototype.getQ=function(){return this.q};p.prototype.getA=function(){return this.a};p.prototype.getB=function(){return this.b};p.prototype.equals=function(r){if(r==this){return true}return(this.q.equals(r.q)&&this.a.equals(r.a)&&this.b.equals(r.b))};p.prototype.getInfinity=function(){return this.infinity};p.prototype.fromBigInteger=function(r){return new n(this.q,r)};p.prototype.decodePointHex=function(v){v=v.replace(/[^0-9a-f]/ig,"");switch(parseInt(v.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var r=(v.length-2)/2;var u=v.substr(2,r);var t=v.substr(r+2,r);return new m(this,this.fromBigInteger(new q(u,16)),this.fromBigInteger(new q(t,16)));default:return null}};p.ECPointFp=m;k.set("cipher.asymmetric.ec.ecurve",p)})(a);(function(k){var o={};var l={NECRAC256:{name:"NECRAC256",secretLength:64,sign:{algorithm:"ec",parameters:{curve:"secp521r1"},secretLength:64},crypt:{algorithm:"ec",parameters:{curve:"secp521r1"},secretLength:64},hashAlgorithm:"WHIRLPOOL"},NECRAC192:{name:"NECRAC192",secretLength:48,sign:{algorithm:"ec",parameters:{curve:"secp384r1"},secretLength:48},crypt:{algorithm:"ec",parameters:{curve:"secp384r1"},secretLength:48},hashAlgorithm:"BLAKE2s"},NECRAC128:{name:"NECRAC128",secretLength:32,sign:{algorithm:"ec",parameters:{curve:"secp256r1"},secretLength:32},crypt:{algorithm:"ec",parameters:{curve:"secp256k1"},secretLength:32},hashAlgorithm:"BLAKE2s"},NECRAC112:{name:"NECRAC112",secretLength:28,sign:{algorithm:"ec",parameters:{curve:"secp224r1"},secretLength:28},crypt:{algorithm:"ec",parameters:{curve:"secp224r1"},secretLength:28},hashAlgorithm:"RIPEMD160"},NECRAC96:{name:"NECRAC96",secretLength:24,sign:{algorithm:"ec",parameters:{curve:"secp192k1"},secretLength:24},crypt:{algorithm:"ec",parameters:{curve:"secp192r1"},secretLength:24},hashAlgorithm:"RIPEMD160"}};function p(v){var C=this;var w=l[v];var A,u;if(!w){throw new Error("invalid-algorithm-choice")}function q(E){var D=new k.get("hash")(w.hashAlgorithm);return D.hash(E).buffer}function z(D){var E=k.get("cipher.asymmetric."+D.algorithm).constructor;return E(D.parameters)}A=z(w.sign);u=z(w.crypt);function B(D){if(D){C.sign=s;C.decrypt=r}C.verify=y;C.encrypt=x;C.getPublicKey=t;delete C.setPrivateKey;delete C.setPublicKey}function t(){var E=A.getPublicKey(),D=u.getPublicKey();return k.get("util.buffer").concat([new Uint16Array([E.byteLength]).buffer,E,D])}function s(E){if(!k.get("util.type")(E).isArrayBuffer()){throw new Error("invalid-parameter")}var D=q(E);return A.sign(D)}function y(F,D){if(!(k.get("util.type")(F).isArrayBuffer()&&k.get("util.type")(D).isArrayBuffer())){throw new Error("invalid-parameter")}var E=q(F);return A.verify(E,D)}function x(D){if(!k.get("util.type")(D).isArrayBuffer()){throw new Error("invalid-parameter")}return u.encrypt(D)}function r(D){if(!k.get("util.type")(D).isArrayBuffer()){throw new Error("invalid-parameter")}return u.decrypt(D)}this.setPrivateKey=function(D){if(!k.get("util.type")(D).isArrayBuffer()){throw new Error("invalid-parameter")}var H=new k.get("hash")(w.hashAlgorithm).pbkdf2;var G=H(D,k.get("util.encoding")("derivation-of-signing-key","ascii").toArrayBuffer(),4,w.sign.secretLength);var E=H(D,k.get("util.encoding")("derivation-of-encrypting-key","ascii").toArrayBuffer(),4,w.crypt.secretLength);try{A.setPrivateKey(G);u.setPrivateKey(E)}catch(F){throw new Error("invalid-private-key")}B(true)};this.setPublicKey=function(E){if(!(k.get("util.type")(E).isArrayBuffer()&&E.byteLength>2)){throw new Error("invalid-public-key")}var F=new Uint16Array(E.slice(0,2))[0];E=E.slice(2);if(E.byteLength<=F){throw new Error("invalid-public-key")}var H=E.slice(0,F),D=E.slice(F);try{A.setPublicKey(H);u.setPublicKey(D)}catch(G){throw new Error("invalid-public-key")}B(false)};return this}function m(q){if(q){k.get("util.log").notice("Load asymmetric cipher component: ["+q.name+"]");o[q.name]=q.constructor;return}if("undefined"!=typeof o.EC){k.get("util.log").notice("Asymmetric ciphers ready.");return function(r){return new p(r)}}return null}var n=function(q){return new p(q)};k.set("cipher.asymmetric",n);k.set("cipher.asymmetric.definition",function(q){return l[q]||null});k.exp("cipher.asymmetric",n)})(a);(function(k){function l(){var G=16;var H=4;var u=4;var q=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];var t=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125];var F=[0,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,2147483648,452984832,905969664];function I(K,J){var M=0;var L;while(K){if((K&1)){M=M^J}L=J&128;J<<=1;if(L){J^=27}K>>=1}return M}function r(L){var K=new Array(256);for(var J=0;J<256;J++){K[J]=I(L,J)&255}return K}var D=r(2);var B=r(3);var v=r(9);var C=r(11);var A=r(13);var z=r(14);function E(J){var K=q;return(K[J>>>24]<<24|K[(J>>>16)&255]<<16|K[(J>>>8)&255]<<8|K[J&255])}function x(J){return J>>>24|J<<8}function s(J){return J>>>24|(J&16711680)>>>8|(J&65280)<<8|(J&255)<<24}var w=((new Uint8Array((new Uint32Array([1])).buffer))[0]==1);function y(P){var J=F;var L=new Uint8Array(P);var N=L.length/4;var Q=N+6;var K=new Uint32Array(u*(Q+1));for(var O=0;O<N;O++){K[O]=(L[O*4]<<24|L[O*4+1]<<16|L[O*4+2]<<8|L[O*4+3])}for(var O=N;O<u*(Q+1);O++){var M=K[O-1];if(O%N==0){M=E(x(M))^J[O/N]}else{if(N>6&&O%N==4){M=E(M)}}K[O]=K[O-N]^M}if(w){for(var O=0;O<K.length;O++){K[O]=s(K[O])}}return K}function o(J,S){var P=(S.length/u-1)*4;var W,U,R,Q;var N,M,L,K;var Z,Y,V,T;var O=q;W=(J[0]^S[0])>>>0;U=(J[1]^S[1])>>>0;R=(J[2]^S[2])>>>0;Q=(J[3]^S[3])>>>0;for(var X=4;X<P;X+=4){N=W;M=U;L=R;K=Q;Z=O[N&255]>>>0;Y=O[(M>>>8)&255]>>>0;V=O[(L>>>16)&255]>>>0;T=O[K>>>24]>>>0;W=(((D[Z]^B[Y]^V^T)|(Z^D[Y]^B[V]^T)<<8|(Z^Y^D[V]^B[T])<<16|(B[Z]^Y^V^D[T])<<24)^S[X])>>>0;Z=O[M&255]>>>0;Y=O[(L>>>8)&255]>>>0;V=O[(K>>>16)&255]>>>0;T=O[N>>>24]>>>0;U=(((D[Z]^B[Y]^V^T)|(Z^D[Y]^B[V]^T)<<8|(Z^Y^D[V]^B[T])<<16|(B[Z]^Y^V^D[T])<<24)^S[X+1])>>>0;Z=O[L&255]>>>0;Y=O[(K>>>8)&255]>>>0;V=O[(N>>>16)&255]>>>0;T=O[M>>>24]>>>0;R=(((D[Z]^B[Y]^V^T)|(Z^D[Y]^B[V]^T)<<8|(Z^Y^D[V]^B[T])<<16|(B[Z]^Y^V^D[T])<<24)^S[X+2])>>>0;Z=O[K&255]>>>0;Y=O[(N>>>8)&255]>>>0;V=O[(M>>>16)&255]>>>0;T=O[L>>>24]>>>0;Q=(((D[Z]^B[Y]^V^T)|(Z^D[Y]^B[V]^T)<<8|(Z^Y^D[V]^B[T])<<16|(B[Z]^Y^V^D[T])<<24)^S[X+3])>>>0}J[0]=S[P]^(O[W&255]|O[(U>>>8)&255]<<8|O[(R>>>16)&255]<<16|O[Q>>>24]<<24);J[1]=S[P+1]^(O[U&255]|O[(R>>>8)&255]<<8|O[(Q>>>16)&255]<<16|O[W>>>24]<<24);J[2]=S[P+2]^(O[R&255]|O[(Q>>>8)&255]<<8|O[(W>>>16)&255]<<16|O[U>>>24]<<24);J[3]=S[P+3]^(O[Q&255]|O[(W>>>8)&255]<<8|O[(U>>>16)&255]<<16|O[R>>>24]<<24)}function p(J,S){var K=t;var P=(S.length/u-1)*4;var U,T,R,Q;var O,N,M,L;U=(J[0]^S[P])>>>0;T=(J[1]^S[P+1])>>>0;R=(J[2]^S[P+2])>>>0;Q=(J[3]^S[P+3])>>>0;for(var V=P-4;V>0;V-=4){O=U;N=T;M=R;L=Q;U=((K[O&255]|K[(L>>>8)&255]<<8|K[(M>>>16)&255]<<16|K[N>>>24]<<24)^S[V])>>>0;T=((K[N&255]|K[(O>>>8)&255]<<8|K[(L>>>16)&255]<<16|K[M>>>24]<<24)^S[V+1])>>>0;R=((K[M&255]|K[(N>>>8)&255]<<8|K[(O>>>16)&255]<<16|K[L>>>24]<<24)^S[V+2])>>>0;Q=((K[L&255]|K[(M>>>8)&255]<<8|K[(N>>>16)&255]<<16|K[O>>>24]<<24)^S[V+3])>>>0;O=U&255>>>0;N=((U>>>8)&255)>>>0;M=((U>>>16)&255)>>>0;L=U>>>24;U=((z[O]^C[N]^A[M]^v[L])|(v[O]^z[N]^C[M]^A[L])<<8|(A[O]^v[N]^z[M]^C[L])<<16|(C[O]^A[N]^v[M]^z[L])<<24)>>>0;O=(T&255)>>>0;N=((T>>>8)&255)>>>0;M=((T>>>16)&255)>>>0;L=T>>>24;T=((z[O]^C[N]^A[M]^v[L])|(v[O]^z[N]^C[M]^A[L])<<8|(A[O]^v[N]^z[M]^C[L])<<16|(C[O]^A[N]^v[M]^z[L])<<24)>>>0;O=(R&255)>>>0;N=((R>>>8)&255)>>>0;M=((R>>>16)&255)>>>0;L=R>>>24;R=((z[O]^C[N]^A[M]^v[L])|(v[O]^z[N]^C[M]^A[L])<<8|(A[O]^v[N]^z[M]^C[L])<<16|(C[O]^A[N]^v[M]^z[L])<<24)>>>0;O=(Q&255)>>>0;N=((Q>>>8)&255)>>>0;M=((Q>>>16)&255)>>>0;L=Q>>>24;Q=((z[O]^C[N]^A[M]^v[L])|(v[O]^z[N]^C[M]^A[L])<<8|(A[O]^v[N]^z[M]^C[L])<<16|(C[O]^A[N]^v[M]^z[L])<<24)>>>0}J[0]=S[0]^(K[U&255]|K[(Q>>>8)&255]<<8|K[(R>>>16)&255]<<16|K[T>>>24]<<24);J[1]=S[1]^(K[T&255]|K[(U>>>8)&255]<<8|K[(Q>>>16)&255]<<16|K[R>>>24]<<24);J[2]=S[2]^(K[R&255]|K[(T>>>8)&255]<<8|K[(U>>>16)&255]<<16|K[Q>>>24]<<24);J[3]=S[3]^(K[Q&255]|K[(R>>>8)&255]<<8|K[(T>>>16)&255]<<16|K[U>>>24]<<24)}return{block_size_bytes:G,block_size_words:H,endian_swap32:s,is_little_endian:w,key_expansion:y,cipher:o,inv_cipher:p}}function n(){var o=this;var q=new l(),r;function p(u){if(!(k.get("util.type")(u).isArrayBuffer()&&0==u.byteLength%q.block_size_bytes)){throw new Error("invalid-input")}var z=new Uint32Array(u);var A=new Uint32Array(z.length);var x=new Uint32Array(q.block_size_words);var t=q.key_expansion(r);var y,v;for(y=0;y<z.length;y+=q.block_size_words){for(v=0;v<q.block_size_words;v++){x[v]=z[y+v]}q.cipher(x,t);A.set(x,y)}return A.buffer}function s(u){if(!(k.get("util.type")(u).isArrayBuffer()&&0==u.byteLength%q.block_size_bytes)){throw new Error("invalid-input")}var z=new Uint32Array(u);var A=new Uint32Array(z.length);var x=new Uint32Array(q.block_size_words);var B=new Uint32Array(q.block_size_words);var t=q.key_expansion(r),y,v;for(y=0;y<z.length;y+=q.block_size_words){for(v=0;v<q.block_size_words;v++){B[v]=z[y+v]}x.set(B);q.inv_cipher(x,t);A.set(x,y)}return A.buffer}this.key=function(u){if(!k.get("util.type")(u).isArrayBuffer()){throw new Error("invalid-key")}var t=u.byteLength;if(t>32){u=u.slice(0,32)}else{if(t>24){u=u.slice(0,24)}else{if(t>16){u=u.slice(0,16)}else{throw new Error("invalid-key-length")}}}r=new Uint32Array(u);o.encrypt=p;o.decrypt=s;delete o.key;return o};return this}var m={name:"AESECB",constructor:function(){return new n()}};k.set("cipher.symmetric.aes",m)})(a);(function(l){function k(y){var z=this;if(!y||y<10){y=10}var x=new Uint32Array(16);function q(F,C){function E(H,G){return(((H)<<(G))|((H)>>>(32-(G))))}var D;var B=x;for(D=0;D<16;D++){B[D]=F[D]}for(D=0;D<y;D++){B[4]^=E(B[0]+B[12],7);B[8]^=E(B[4]+B[0],9);B[12]^=E(B[8]+B[4],13);B[0]^=E(B[12]+B[8],18);B[9]^=E(B[5]+B[1],7);B[13]^=E(B[9]+B[5],9);B[1]^=E(B[13]+B[9],13);B[5]^=E(B[1]+B[13],18);B[14]^=E(B[10]+B[6],7);B[2]^=E(B[14]+B[10],9);B[6]^=E(B[2]+B[14],13);B[10]^=E(B[6]+B[2],18);B[3]^=E(B[15]+B[11],7);B[7]^=E(B[3]+B[15],9);B[11]^=E(B[7]+B[3],13);B[15]^=E(B[11]+B[7],18);B[1]^=E(B[0]+B[3],7);B[2]^=E(B[1]+B[0],9);B[3]^=E(B[2]+B[1],13);B[0]^=E(B[3]+B[2],18);B[6]^=E(B[5]+B[4],7);B[7]^=E(B[6]+B[5],9);B[4]^=E(B[7]+B[6],13);B[5]^=E(B[4]+B[7],18);B[11]^=E(B[10]+B[9],7);B[8]^=E(B[11]+B[10],9);B[9]^=E(B[8]+B[11],13);B[10]^=E(B[9]+B[8],18);B[12]^=E(B[15]+B[14],7);B[13]^=E(B[12]+B[15],9);B[14]^=E(B[13]+B[12],13);B[15]^=E(B[14]+B[13],18)}for(D=0;D<16;D++){C[D]=B[D]+F[D]}}var t=new Uint32Array(16);function p(C,E){var B=t,D=new Uint32Array([1634760805,857760878,2036477234,1797285236]);B[0]=D[0];B[1]=E[0];B[2]=E[1];B[3]=E[2];B[4]=E[3];B[5]=D[1];B[6]=C[0];B[7]=C[1];B[10]=D[2];B[11]=E[4];B[12]=E[5];B[13]=E[6];B[14]=E[7];B[15]=D[3]}function r(D,C){var B=t;B[8]=D[0];B[9]=D[1];return q(B,C)}function p(D,C){var B=t;tau=new Uint32Array([1634760805,824206446,2036477238,1797285236]);B[0]=tau[0];B[1]=C[0];B[2]=C[1];B[3]=C[2];B[4]=C[3];B[5]=tau[1];B[6]=D[0];B[7]=D[1];B[10]=tau[2];B[11]=C[0];B[12]=C[1];B[13]=C[2];B[14]=C[3];B[15]=tau[3]}function v(D,C){var B=t;B[8]=D[0];B[9]=D[1];return q(B,C)}var n=new Uint32Array(2);var u;function w(){n[0]=0;n[1]=0}function A(){n[0]+=1;if(0==n[0]){n[1]+=1}}function s(B,E){var D=new Uint32Array(B);if(32==E.byteLength){var C=new Uint32Array(E);p(D,C);u=(function(){return function(F){r(n,F);A()}})()}else{if(16==E.byteLength){var C=new Uint32Array(E);_salsa20BufferFillKey4(D,C);u=(function(){return function(F){v(n,F);A()}})()}else{throw new Error("invalid-key-length")}}}function o(H){if(!l.get("util.type")(H).isArrayBuffer()){throw new Error("invalid-input")}var B=H.byteLength,F=Math.ceil(B/64),C=new Uint32Array(16);var I=new Uint8Array(H),J=new Uint8Array(I.length+64);var G=0,E,D;w();for(E=0;E<F;E++){u(C);for(D=0;D<16;D++){J[G++]=(C[D]>>24)&255;J[G++]=(C[D]>>16)&255;J[G++]=(C[D]>>8)&255;J[G++]=C[D]&255}}for(E=0;E<B;E++){I[E]^=J[E]}return I.buffer}this.key=function(C){if(!l.get("util.type")(C).isArrayBuffer()){throw new Error("invalid-key")}var D=C.byteLength;if(D<24){throw new Error("invalid-key")}var B=C.slice(0,8);if(D<40){s(B,C.slice(8,24))}else{s(B,C.slice(8,40))}z.encrypt=o;z.decrypt=o;delete z.key;return z};return this}var m={name:"Salsa20/20",constructor:function(){return new k(20)}};l.set("cipher.symmetric.salsa20",m)})(a);(function(m){function l(){var z=this;function y(C,E){var G=C.byteLength,F=E-(G%E),H=G+F,B=new Uint8Array(C),A=new Uint8Array(H);for(var D=0;D<H;D++){if(D<G){A[D]=B[D]}else{A[D]=F}}return A.buffer}function x(B){var A=new Uint8Array(B);var C=A[A.length-1];if(A.length<C){return null}return B.slice(0,B.byteLength-C)}function u(A){return A}function r(A){return A}var t=null;function v(D,B,E){var G=64;var F=new m.get("hash")("BLAKE2s").pbkdf2(D,B,4,E*G);var A=new Array(E);for(var C=0;C<E;C++){A[C]=new m.get("hash")("WHIRLPOOL").hash(F.slice(C*G,(C+1)*G)).buffer}return A}var w=function(C){if(!m.get("util.type")(C).isArrayBuffer()){throw new Error("invalid-parameter")}var B=new m.get("util.srand")().bytes(10);var D=v(t,B,5);var E=new m.get("hash")("BLAKE2s",{length:6}).mac(C,D[0]).buffer;C=m.get("util.buffer").concat([E,C]);var A=C;A=u(A);A=y(A,16);A=k(D[1],A);A=q(D[2],A);return m.get("util.buffer").concat([B,A])};var s=function(C){if(!(m.get("util.type")(C).isArrayBuffer()&&C.byteLength>=26)){throw new Error("invalid-parameter")}var E=C.slice(0,10);C=C.slice(10);var F=v(t,E,5);var B=C;B=o(F[2],B);B=n(F[1],B);B=x(B,16);if(!m.get("util.type")(B).isArrayBuffer()){return null}B=r(B);if(!m.get("util.type")(B).isArrayBuffer()){return null}var D=B.slice(0,6);B=B.slice(6);var A=new m.get("hash")("BLAKE2s",{length:6}).mac(B,F[0]).buffer;if(m.get("util.buffer").equal(D,A)){return B}return null};this.key=function(A){if(!m.get("util.type")(A).isArrayBuffer()){throw new Error("invalid-key")}t=A;delete z.key;z.encrypt=w;z.decrypt=s;return z};return this}var q=function(r,t){try{var s=m.get("cipher.symmetric.aes").constructor;return s().key(r).encrypt(t)}catch(u){m.get("util.log").error(u);return new Error("unable-to-encrypt",u)}};var o=function(r,t){try{var s=m.get("cipher.symmetric.aes").constructor;return s().key(r).decrypt(t)}catch(u){m.get("util.log").error(u);return new Error("unable-to-decrypt",u)}};var k=function(r,s){try{var u=m.get("cipher.symmetric.salsa20").constructor;return u().key(r).encrypt(s)}catch(t){m.get("util.log").error(t);return new Error("unable-to-encrypt")}};var n=function(r,s){try{var u=m.get("cipher.symmetric.salsa20").constructor;return u().key(r).decrypt(s)}catch(t){m.get("util.log").error(t);return new Error("unable-to-decrypt",t)}};function p(){return new l()}m.set("cipher.symmetric",p);m.exp("cipher.symmetric",p)})(a);(function(k){function l(){var m=this;return this}})(a);(function(m){var l={defaultAlgorithmName:"NECRAC128",subjectRule:/^[0-9a-z\s]{8,255}$/i};var n={_:["constant",new Uint8Array([69,73]).buffer],subject:"shortBinary",algorithm:["enum","NECRAC96","NECRAC112","NECRAC128","NECRAC192","NECRAC256"],"public":"binary",secret:"shortBinary",signature:"binary"};function k(){var D=this;var t=m.get("hash");var F=m.get("util.buffer");var p=m.get("cipher.asymmetric.definition");var B=m.get("util.type");var I=m.get("util.serialize")(n);var H,u,x,A,z,K;var C=false;function v(){if(C){return C}C=t("WHIRLPOOL").mac(x,H).buffer;return C}function s(M){D.exportPublic=G;D.verify=q;D.encrypt=E;if(M){D.decrypt=r;D.sign=L;D.exportPrivate=y}D.isPrivate=function(){return Boolean(M)};delete D.generate;delete D.loadPublic;delete D.loadPrivate}this.generate=function(O,N){if(!N){N={}}if(!l.subjectRule.test(O)){throw new Error("enigma-invalid-input")}H=m.get("util.encoding")(O,"ascii").toArrayBuffer();A=N.algorithm||l.defaultAlgorithmName;var M=p(A);if(!M){A=defaults.algorithmName;M=p(algorithmname)}u=m.get("util.srand")().bytes(M.secretLength);K=m.get("cipher.asymmetric")(M.name);K.setPrivateKey(u);x=K.getPublicKey();z=K.sign(v());s(true)};function J(M,W){if(!B(M).isArrayBuffer()){throw new Error("enigma-invalid-input")}if(W&&!B(W).isArrayBuffer()){throw new Error("enigma-invalid-input")}try{var S=I.deserialize(M)}catch(R){throw new Error("enigma-invalid-input")}var T=S.subject,P=S.algorithm,Q=S.signature,N=S["public"],V=S.secret;if(!l.subjectRule.test(m.get("util.encoding")(T).toASCII())){throw new Error("enigma-invalid-input")}H=T;A=P;z=Q;x=N;K=m.get("cipher.asymmetric")(A);if(W){try{u=m.get("cipher.symmetric")().key(W).decrypt(V)}catch(R){throw new Error("enigma-invalid-pinkey")}K.setPrivateKey(u);var O=K.getPublicKey();if(!m.get("util.buffer").equal(O,x)){throw new Error("enigma-identity-invalid")}}else{K.setPublicKey(x)}var U=K.verify(v(),z);if(!U){throw new Error("enigma-identity-invalid")}return true}this.loadPublic=function(M){if(J(M)){s(false)}};this.loadPrivate=function(N,M){if(J(N,M)){s(true)}};function w(){return v().slice(0,8)}function G(){var M=I.serialize({subject:H,algorithm:A,"public":x,secret:new Uint8Array(0).buffer,signature:z});return M}function y(M){if(!(B(M).isArrayBuffer()&&M.byteLength>=32)){throw new Error("enigma-invalid-pinkey")}var O=m.get("cipher.symmetric")().key(M).encrypt(u);var N=I.serialize({subject:H,algorithm:A,"public":x,secret:O,signature:z});return N}function q(N,M){if(!(B(N).isArrayBuffer()&&B(M).isArrayBuffer())){throw new Error("enigma-invalid-input")}try{return true===K.verify(N,M)}catch(O){return false}}function L(M){if(!B(M).isArrayBuffer()){throw new Error("enigma-invalid-input")}try{return K.sign(M)}catch(N){throw new Error("enigma-identity-unable-to-sign")}}function E(M){if(!B(M).isArrayBuffer()){throw new Error("enigma-invalid-input")}try{return K.encrypt(M)}catch(N){throw new Error("enigma-identity-unable-to-encrypt")}}function r(M){if(!B(M).isArrayBuffer()){throw new Error("enigma-invalid-input")}try{return K.decrypt(M)}catch(N){throw new Error("enigma-identity-unable-to-decrypt")}}return this}var o=function(){return new k()};m.set("enigma.identity",o);m.exp("enigma.identity",o)})(a);(function(m){var k={_:["constant",new Uint8Array([69,112]).buffer],signers:"shortArray",signatures:"array",content:"longBinary"};var l={_:["constant",new Uint8Array([69,67]).buffer],encrypted:"boolean",compression:["enum",["no","lzw"]],receivers:"shortArray",decryptors:"array",payload:"longBinary"};function n(){var E=this;var s=m.get("util.type");var B=m.get("util.serialize")(k),w=m.get("util.serialize")(l);var C,x,t=[],u=[],z=[],q=[];var D;this.write=function(F){if(!s(F).isArrayBuffer()){throw new Error("enigma-invalid-input")}C=F;x=new m.get("util.srand")().bytes(64);delete E.write;delete E.read;E.sign=r;E.encrypt=y;E.done=v};this.read=function(F){if(!s(F).isArrayBuffer()){throw new Error("enigma-invalid-input")}D=cipher.text;delete E.write;delete E.read;E.decrypt=p;E.verify=A};function r(H){var G=H.getFingerprint();var F=H.sign(C);q.push(G);z.push(F)}function y(F){var G=F.encrypt(x);var H=F.getFingerprint();t.push(H);u.push(G);return true}function v(){delete E.sign;delete E.encrypt;var F=B.serialize({signers:q,signatures:z,content:C})}function p(F){}function A(F){}return this}function o(){return new n()}m.set("enigma.message",o);m.exp("enigma.message",o)})(a);var e=a.get("enigma.identity")(),d=a.get("enigma.identity")(),b=a.get("enigma.identity")(),i=new a.get("util.srand")().bytes(32);e.generate("abcdefghijklmn",{algorithm:"NECRAC96"});d.loadPublic(e.exportPublic());console.log(d,d.isPrivate());var g=e.exportPrivate(i);b.loadPrivate(g,i);console.log(b,b.isPrivate());var j=a.get("enigma.message")();j.write(a.get("util.encoding")("The first enigma message.","ascii").toArrayBuffer());console.log(j);process.exit();if("undefined"!=typeof module&&"undefined"!=module.exports){module.exports=h}else{define([],function(){return h})}})();